<!DOCTYPE html>
<html class="writer-html5" lang="y" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Practica 8: Crear Portafolio de Renta Fija y Variable para el mercado Colombiano &mdash; Material Curso 1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Caracterización de las series de tiempo" href="../../Caracterizaci%C3%B3n%20de%20las%20series%20de%20tiempo/index.html" />
    <link rel="prev" title="Práctica 7: Valoración de Bonos y Principios de Bonos" href="Practica.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Material Curso
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Análisis de datos:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Introducci%C3%B3n%20a%20R/index.html">Introducción a R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ggplot2/index.html">ggplot2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regresi%C3%B3n%20lineal/index.html">Regresión lineal</a></li>
</ul>
<p class="caption"><span class="caption-text">Análisis exploratorio de datos:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20gr%C3%A1fico/index.html">Análisis gráfico</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20multivariado%20de%20datos/index.html">Análisis multivariado de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20de%20componentes%20principales/index.html">Análisis de componentes principales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20factorial/index.html">Análisis Factorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/index.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Escalamiento%20Multidimensional/index.html">Escalamiento Multidimensional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Datos%20faltantes/index.html">Datos faltantes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lsis%20de%20correspondencia/index.html">Análisis de correspondencia</a></li>
</ul>
<p class="caption"><span class="caption-text">Teoría de portafolios:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Generalidades%20del%20Mercado%20Colombiano/index.html">Generalidades del Mercado Colombiano</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Manejo%20de%20R-Studio/index.html">Conceptos Previos: Introducción a R y R-Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Conceptos%20B%C3%A1sicos%20de%20Estad%C3%ADstica/index.html">Conceptos Básicos de Estadística</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Teor%C3%ADa%20de%20Portafolios/index.html">Teoría de Portafolios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Selecci%C3%B3n%20de%20Carteras/index.html">Selección de Cartera</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Mercado de Renta fija</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#bonos">Bonos</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Practica.html">Práctica 7: Valoración de Bonos y Principios de Bonos</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Practica 8: Crear Portafolio de Renta Fija y Variable para el mercado Colombiano</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creacion-matriz-de-rendimientos-para-diferentes-tipos-de-activos">Creación Matríz de Rendimientos para Diferentes Tipos de Activos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#analisis-de-los-rendimientos">Análisis de los Rendimientos</a></li>
<li class="toctree-l4"><a class="reference internal" href="#optimizacion-del-portafolio-con-activo-de-renta-fija">Optimización del portafolio con activo de renta fija.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grafico-de-la-frontera">Gráfico de la frontera</a></li>
<li class="toctree-l4"><a class="reference internal" href="#analisis-del-portafolio">Análisis del portafolio</a></li>
<li class="toctree-l4"><a class="reference internal" href="#desempeno-del-portafolio-aplicacion-trabajo-final">Desempeño del portafolio (Aplicación Trabajo Final)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Modelación:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Caracterizaci%C3%B3n%20de%20las%20series%20de%20tiempo/index.html">Caracterización de las series de tiempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Modelos%20autorregresivos/index.html">ARIMA: autoregresivo integrado de medias móviles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deep%20Learning%20para%20pron%C3%B3stico/index.html">Deep Learning para pronóstico</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Material Curso</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Mercado de Renta fija</a> &raquo;</li>
      <li>Practica 8: Crear Portafolio de Renta Fija y Variable para el mercado Colombiano</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Mercado de Renta Fija/Cartera con renta fija/Portafolio con Activo Renta Fija.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="practica-8-crear-portafolio-de-renta-fija-y-variable-para-el-mercado-colombiano">
<h1>Practica 8: Crear Portafolio de Renta Fija y Variable para el mercado Colombiano<a class="headerlink" href="#practica-8-crear-portafolio-de-renta-fija-y-variable-para-el-mercado-colombiano" title="Permalink to this headline"></a></h1>
<p><strong>Lectura de datos en R desde un archivo .csv (excel)</strong></p>
<p>Debido a que R no hace la búsqueda de activos para las páginas que
reportan los activos pertenecientes al mercado colombiano (Como
&quot;Investing o la Bolsa de Valores de Colombia), para poder ingresar los
datos, se debe crear y limpiar una base de datos en excel que se guarda
en formato Excel.csv. Este procedimiento se describe en los vídeos
<a class="reference external" href="https://www.youtube.com/playlist?list=PLMcVCpPhWD6WeT8vr9kZZ45tPVkV7vG3m">Bases de datos con
Investing</a>.</p>
<p>Luego de contar con la BD depurada como se muestran en los vídeos. Se
procecede a utilizar el código para leer archivos de excel en
<code class="docutils literal notranslate"><span class="pre">read.csv()</span></code>, con la función <code class="docutils literal notranslate"><span class="pre">file.choose()</span></code> abrirá un explorador de
carpetas que permitirá buscar la ubicación donde se guradó el archivo de
la base de datos. los argumentos <code class="docutils literal notranslate"><span class="pre">sep</span> <span class="pre">=</span> <span class="pre">&quot;;&quot;,</span> <span class="pre">dec</span> <span class="pre">=</span> <span class="pre">&quot;,&quot;,</span> <span class="pre">header</span> <span class="pre">=</span> <span class="pre">T</span></code>
indicaran las características con las que leerá el documento.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">datos</span> <span class="o">=</span> <span class="nf">read.csv</span><span class="p">(</span><span class="nf">file.choose</span><span class="p">(),</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;;&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span>
</pre></div>
</div>
<table>
<caption>A data.frame: 6 × 6</caption>
<thead>
    <tr><th></th><th scope=col>Fecha</th><th scope=col>ECO</th><th scope=col>PFVAVAL</th><th scope=col>ISA</th><th scope=col>NUTRESA</th><th scope=col>Bono.a.10.años</th></tr>
    <tr><th></th><th scope=col>&lt;fct&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><th scope=row>1</th><td>26/03/2018</td><td>2775</td><td>1165</td><td>13080</td><td>25720</td><td>6.44</td></tr>
    <tr><th scope=row>2</th><td>27/03/2018</td><td>2645</td><td>1155</td><td>13080</td><td>25700</td><td>6.36</td></tr>
    <tr><th scope=row>3</th><td>28/03/2018</td><td>2615</td><td>1165</td><td>13320</td><td>25980</td><td>6.36</td></tr>
    <tr><th scope=row>4</th><td>2/04/2018 </td><td>2690</td><td>1165</td><td>13420</td><td>25920</td><td>6.36</td></tr>
    <tr><th scope=row>5</th><td>3/04/2018 </td><td>2730</td><td>1175</td><td>13660</td><td>25920</td><td>6.49</td></tr>
    <tr><th scope=row>6</th><td>4/04/2018 </td><td>2740</td><td>1190</td><td>13560</td><td>25840</td><td>6.52</td></tr>
</tbody>
</table><p>Una vez leídos los datos, como en este caso se creará un portafolio con
dos tipos de activos: Renta Fija y Renta Variable, se deberá separar en
dos conjuntos de datos, el primero incluye los activos de renta variable
(En mi caso las 4 primeras acciones), el segundo conjunto, incluye el
activo de renta fija (Bono a 10 años). Este procedimiento de separar los
activos se debe a que las acciones se negocian con precios por tanto, su
rendimiento es la diferencia logarítmica, mientras que los activos de
renta fija se negocian con tasas, por lo que, el rendimiento es la
diferencia simple.</p>
<p>En este caso, en el cobjeto <code class="docutils literal notranslate"><span class="pre">cartera_acciones=</span></code> se toman las columnas
2 a la 5, donde se encuentran los precios de las acciones de éxito,
Bancolombia y Argos. En el objeto <code class="docutils literal notranslate"><span class="pre">Bono=</span></code> se toma solo la columna 6
que tiene los datos de las tasas del bono a 10 años.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#separar acciones del activo de renta fija</span>
<span class="n">cartera_acciones</span><span class="o">=</span> <span class="n">datos</span><span class="p">[,</span><span class="m">2</span><span class="o">:</span><span class="m">5</span><span class="p">]</span><span class="c1">#cambiar estos numeros por las correspondientes columnas que contengan las acciones.</span>
<span class="n">cartera_acciones</span><span class="o">=</span><span class="nf">ts</span><span class="p">(</span><span class="n">cartera_acciones</span><span class="p">)</span>
<span class="c1">#Activo renta fija</span>
<span class="n">Bono</span><span class="o">=</span> <span class="n">datos</span><span class="p">[,</span><span class="m">6</span><span class="p">]</span><span class="c1"># cambiar por la columna que contenga el bono.</span>
</pre></div>
</div>
<div class="section" id="creacion-matriz-de-rendimientos-para-diferentes-tipos-de-activos">
<h2>Creación Matríz de Rendimientos para Diferentes Tipos de Activos<a class="headerlink" href="#creacion-matriz-de-rendimientos-para-diferentes-tipos-de-activos" title="Permalink to this headline"></a></h2>
<p>Como se indica anteriormente, se calculan dos conjuntos de rendimientos.
El primero, corresponde al rendimiento de las acciones
<code class="docutils literal notranslate"><span class="pre">Rdto_acciones=</span></code>, contenidas en el objeto <code class="docutils literal notranslate"><span class="pre">cartera_acciones</span></code> y
calculado como la diferencia logarítmica de los precios de cierre de las
acciones <code class="docutils literal notranslate"><span class="pre">diff(log(cartera_acciones))</span></code>. El segundo, es el rendimiento
para las tasas del bono <code class="docutils literal notranslate"><span class="pre">Rdto_bono=</span></code>, contenidas en el objeto
<code class="docutils literal notranslate"><span class="pre">Bono</span></code>, y calculado como la primera direncia de los datos
<code class="docutils literal notranslate"><span class="pre">diff(Bono)</span></code></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Rendimientos para las acciones</span>
<span class="n">Rdto_acciones</span><span class="o">=</span><span class="nf">diff</span><span class="p">(</span><span class="nf">log</span><span class="p">(</span><span class="n">cartera_acciones</span><span class="p">))</span>
<span class="c1"># Rendimientos para el Bono</span>
<span class="n">Rdto_bono</span><span class="o">=</span><span class="nf">diff</span><span class="p">(</span><span class="n">Bono</span><span class="p">)</span>
</pre></div>
</div>
<p>Una vez se tengan creados los rendimientos para ambos tipos de activos,
deben unirse las bases de datos en una sola con el comando <code class="docutils literal notranslate"><span class="pre">cbind</span></code>,
luego se editan los nombres de las columnas para dar un mejor formato,
tal como se muestra en la siguiente tabla:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#se unen todos los rendiemientos</span>
<span class="n">Rdtos</span><span class="o">=</span><span class="nf">cbind</span><span class="p">(</span><span class="n">Rdto_acciones</span><span class="p">,</span><span class="n">Rdto_bono</span><span class="p">)</span>
<span class="n">nombres</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="nf">colnames</span><span class="p">(</span><span class="n">Rdto_acciones</span><span class="p">),</span><span class="s">&quot;Bono&quot;</span><span class="p">)</span> <span class="c1">#editando el nombre de las columnas</span>
<span class="nf">colnames</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">)</span><span class="o">=</span><span class="n">nombres</span>
<span class="nf">head</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">)</span>
</pre></div>
</div>
<table>
<caption>A matrix: 6 × 5 of type dbl</caption>
<thead>
    <tr><th scope=col>ECO</th><th scope=col>PFVAVAL</th><th scope=col>ISA</th><th scope=col>NUTRESA</th><th scope=col>Bono</th></tr>
</thead>
<tbody>
    <tr><td>-0.047979682</td><td>-0.008620743</td><td> 0.000000000</td><td>-0.0007779075</td><td>-0.08</td></tr>
    <tr><td>-0.011406968</td><td> 0.008620743</td><td> 0.018182319</td><td> 0.0108360193</td><td> 0.00</td></tr>
    <tr><td> 0.028277096</td><td> 0.000000000</td><td> 0.007479466</td><td>-0.0023121398</td><td> 0.00</td></tr>
    <tr><td> 0.014760416</td><td> 0.008547061</td><td> 0.017725723</td><td> 0.0000000000</td><td> 0.13</td></tr>
    <tr><td> 0.003656311</td><td> 0.012685160</td><td>-0.007347572</td><td>-0.0030911926</td><td> 0.03</td></tr>
    <tr><td> 0.000000000</td><td> 0.020790770</td><td> 0.023324673</td><td> 0.0153612852</td><td> 0.02</td></tr>
</tbody>
</table></div>
<div class="section" id="analisis-de-los-rendimientos">
<h2>Análisis de los Rendimientos<a class="headerlink" href="#analisis-de-los-rendimientos" title="Permalink to this headline"></a></h2>
<p>Tal como se mostró en en el apartado para Obtención y Análisis de
Rendimientos R, se realizan gráficos de los rendimientos de los activos.
Para recordar el uso del código <a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57227">Remitirse
aquí</a></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#graficar los rendimientos en layout</span>
<span class="nf">library</span><span class="p">(</span><span class="s">&#39;fBasics&#39;</span><span class="p">)</span>
<span class="n">colores</span><span class="o">=</span> <span class="nf">qualiPalette</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="nf">ncol</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">),</span> <span class="n">name</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;Dark2&quot;</span><span class="p">))</span>


<span class="nf">for</span><span class="p">(</span><span class="n">i</span> <span class="n">in</span> <span class="m">1</span><span class="o">:</span><span class="nf">ncol</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">)){</span>
  <span class="nf">plot</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">[,</span><span class="n">i</span><span class="p">],</span><span class="n">type</span><span class="o">=</span><span class="s">&quot;h&quot;</span><span class="p">,</span><span class="n">main</span> <span class="o">=</span> <span class="n">nombres</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">col</span><span class="o">=</span><span class="n">colores</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">lwd</span><span class="o">=</span><span class="m">2</span><span class="p">,</span> <span class="n">xlab</span><span class="o">=</span><span class="s">&quot;Fecha&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_10_04.png"><img alt="../../_images/output_10_04.png" src="../../_images/output_10_04.png" style="width: 420px; height: 420px;" /></a>
<a class="reference internal image-reference" href="../../_images/output_10_1.png"><img alt="../../_images/output_10_1.png" src="../../_images/output_10_1.png" style="width: 420px; height: 420px;" /></a>
<a class="reference internal image-reference" href="../../_images/output_10_2.png"><img alt="../../_images/output_10_2.png" src="../../_images/output_10_2.png" style="width: 420px; height: 420px;" /></a>
<a class="reference internal image-reference" href="../../_images/output_10_3.png"><img alt="../../_images/output_10_3.png" src="../../_images/output_10_3.png" style="width: 420px; height: 420px;" /></a>
<a class="reference internal image-reference" href="../../_images/output_10_4.png"><img alt="../../_images/output_10_4.png" src="../../_images/output_10_4.png" style="width: 420px; height: 420px;" /></a>
<p>Tal como se indicó en <a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57227">Obtención y Análisis de Rendimientos
R</a>, se
sacan las estadisiticas básicas de los rendimientos de los activos que
compondrán el portafolio.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#estadisticas básicas</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">)</span>
<span class="c1">#medias y volatilidades</span>
<span class="n">media_rdto</span><span class="o">=</span><span class="nf">apply</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="n">mean</span><span class="p">)</span>
<span class="n">media_rdto</span>
<span class="n">volatilidades</span><span class="o">=</span><span class="nf">apply</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="n">sd</span><span class="p">)</span>
<span class="n">volatilidades</span>
<span class="c1">#matriz de covarianzas</span>
<span class="n">covarianza</span><span class="o">=</span> <span class="nf">cov</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">)</span>
<span class="n">covarianza</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>     <span class="n">ECO</span>                <span class="n">PFVAVAL</span>                <span class="n">ISA</span>
<span class="n">Min</span><span class="o">.</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.4065868</span>   <span class="n">Min</span><span class="o">.</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.4038136</span>   <span class="n">Min</span><span class="o">.</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.2756262</span>
<span class="mi">1</span><span class="n">st</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span><span class="o">-</span><span class="mf">0.0096853</span>   <span class="mi">1</span><span class="n">st</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span><span class="o">-</span><span class="mf">0.0077445</span>   <span class="mi">1</span><span class="n">st</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span><span class="o">-</span><span class="mf">0.0084889</span>
<span class="n">Median</span> <span class="p">:</span> <span class="mf">0.0000000</span>   <span class="n">Median</span> <span class="p">:</span> <span class="mf">0.0000000</span>   <span class="n">Median</span> <span class="p">:</span> <span class="mf">0.0012674</span>
<span class="n">Mean</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.0004481</span>   <span class="n">Mean</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.0003991</span>   <span class="n">Mean</span>   <span class="p">:</span> <span class="mf">0.0006411</span>
<span class="mi">3</span><span class="n">rd</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span> <span class="mf">0.0116560</span>   <span class="mi">3</span><span class="n">rd</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span> <span class="mf">0.0081301</span>   <span class="mi">3</span><span class="n">rd</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span> <span class="mf">0.0101585</span>
<span class="n">Max</span><span class="o">.</span>   <span class="p">:</span> <span class="mf">0.1498123</span>   <span class="n">Max</span><span class="o">.</span>   <span class="p">:</span> <span class="mf">0.2058521</span>   <span class="n">Max</span><span class="o">.</span>   <span class="p">:</span> <span class="mf">0.1386834</span>
   <span class="n">NUTRESA</span>                <span class="n">Bono</span>
<span class="n">Min</span><span class="o">.</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.1053605</span>   <span class="n">Min</span><span class="o">.</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.4700000</span>
<span class="mi">1</span><span class="n">st</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span><span class="o">-</span><span class="mf">0.0063179</span>   <span class="mi">1</span><span class="n">st</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span><span class="o">-</span><span class="mf">0.0300000</span>
<span class="n">Median</span> <span class="p">:</span> <span class="mf">0.0000000</span>   <span class="n">Median</span> <span class="p">:</span> <span class="mf">0.0000000</span>
<span class="n">Mean</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.0002686</span>   <span class="n">Mean</span>   <span class="p">:</span><span class="o">-</span><span class="mf">0.0008032</span>
<span class="mi">3</span><span class="n">rd</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span> <span class="mf">0.0053323</span>   <span class="mi">3</span><span class="n">rd</span> <span class="n">Qu</span><span class="o">.</span><span class="p">:</span> <span class="mf">0.0200000</span>
<span class="n">Max</span><span class="o">.</span>   <span class="p">:</span> <span class="mf">0.0659826</span>   <span class="n">Max</span><span class="o">.</span>   <span class="p">:</span> <span class="mf">0.4300000</span>
</pre></div>
</div>
<style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>ECO</dt><dd>-0.000448079420309658</dd><dt>PFVAVAL</dt><dd>-0.000399126557267209</dd><dt>ISA</dt><dd>0.000641139381259261</dd><dt>NUTRESA</dt><dd>-0.000268581506343462</dd><dt>Bono</dt><dd>-0.000803212851405623</dd></dl><style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class=dl-inline><dt>ECO</dt><dd>0.0319931869227726</dd><dt>PFVAVAL</dt><dd>0.0286517789360445</dd><dt>ISA</dt><dd>0.0237607910031427</dd><dt>NUTRESA</dt><dd>0.014037247290808</dd><dt>Bono</dt><dd>0.0807544744305989</dd></dl><table>
<caption>A matrix: 5 × 5 of type dbl</caption>
<thead>
    <tr><th></th><th scope=col>ECO</th><th scope=col>PFVAVAL</th><th scope=col>ISA</th><th scope=col>NUTRESA</th><th scope=col>Bono</th></tr>
</thead>
<tbody>
    <tr><th scope=row>ECO</th><td>0.0010235640</td><td>5.915563e-04</td><td> 1.172116e-04</td><td> 1.505284e-04</td><td> 1.807730e-05</td></tr>
    <tr><th scope=row>PFVAVAL</th><td>0.0005915563</td><td>8.209244e-04</td><td> 1.555274e-04</td><td> 1.313111e-04</td><td> 7.803865e-05</td></tr>
    <tr><th scope=row>ISA</th><td>0.0001172116</td><td>1.555274e-04</td><td> 5.645752e-04</td><td> 1.526683e-04</td><td>-8.833299e-05</td></tr>
    <tr><th scope=row>NUTRESA</th><td>0.0001505284</td><td>1.313111e-04</td><td> 1.526683e-04</td><td> 1.970443e-04</td><td>-7.410628e-05</td></tr>
    <tr><th scope=row>Bono</th><td>0.0000180773</td><td>7.803865e-05</td><td>-8.833299e-05</td><td>-7.410628e-05</td><td> 6.521285e-03</td></tr>
</tbody>
</table></div>
<div class="section" id="optimizacion-del-portafolio-con-activo-de-renta-fija">
<h2>Optimización del portafolio con activo de renta fija.<a class="headerlink" href="#optimizacion-del-portafolio-con-activo-de-renta-fija" title="Permalink to this headline"></a></h2>
<p>Ingresar un activo de enta fija a un portafolio no supone mayores
cambios en la optimización, por tanto, se procede de manera similar al
caso de portafolio solo con renta variable, tal como se procedió en
<a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57609">Optimización de
portafolios</a>.
Se debe tener en cuenta que en este caso, se está ultilizando activos
colombianos por tanto, se debe utilizar una tasa libre de riesgo que
corresponda a un Bono a 10 años de Colombia, nuvamente convertida a un
valor diario.</p>
<p>Con esto, se obtendrá una frontera eficiente que contiene un activo
libre de riesgo de crédito por lo que podrá reducir el riesgo del
portafolio.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#optimización del portafolio</span>
<span class="nf">library</span><span class="p">(</span><span class="n">fPortfolio</span><span class="p">)</span>
<span class="n">rf</span><span class="o">=</span><span class="m">0.000029</span> <span class="c1">#cambiar por la tasa libre de riesgo diaria para Colombia</span>
<span class="n">espcartera</span><span class="o">=</span><span class="nf">portfolioSpec</span><span class="p">()</span>
<span class="nf">`setRiskFreeRate&lt;-`</span><span class="p">(</span><span class="n">espcartera</span><span class="p">,</span> <span class="m">0.000029</span><span class="p">)</span> <span class="c1">#cambiar por la tasa libre de riesgo diaria para Colombia</span>
<span class="nf">`setNFrontierPoints&lt;-`</span><span class="p">(</span><span class="n">espcartera</span><span class="p">,</span> <span class="m">20</span><span class="p">)</span>
<span class="n">constraints</span><span class="o">=</span><span class="s">&quot;longOnly&quot;</span>

<span class="c1">#gráfico de la frontera eficiente</span>
<span class="n">Frontera</span><span class="o">=</span> <span class="nf">portfolioFrontier</span><span class="p">(</span><span class="nf">as.timeSeries</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">[</span><span class="m">-1</span><span class="p">,]),</span><span class="n">spec</span> <span class="o">=</span> <span class="n">espcartera</span><span class="p">,</span> <span class="n">include.mvl</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Cartera&quot;</span><span class="p">)</span>
<span class="n">Frontera</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Model</span> <span class="n">List</span><span class="p">:</span>
 <span class="n">Type</span><span class="p">:</span>                      <span class="n">MV</span>
 <span class="n">Optimize</span><span class="p">:</span>                  <span class="n">minRisk</span>
 <span class="n">Estimator</span><span class="p">:</span>                 <span class="n">covEstimator</span>
 <span class="n">Params</span><span class="p">:</span>                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>

<span class="n">Portfolio</span> <span class="n">List</span><span class="p">:</span>
 <span class="n">Target</span> <span class="n">Weights</span><span class="p">:</span>            <span class="n">NULL</span>
 <span class="n">Target</span> <span class="n">Return</span><span class="p">:</span>             <span class="n">NULL</span>
 <span class="n">Target</span> <span class="n">Risk</span><span class="p">:</span>               <span class="n">NULL</span>
 <span class="n">Risk</span><span class="o">-</span><span class="n">Free</span> <span class="n">Rate</span><span class="p">:</span>            <span class="mf">2.9e-05</span>
 <span class="n">Number</span> <span class="n">of</span> <span class="n">Frontier</span> <span class="n">Points</span><span class="p">:</span> <span class="mi">50</span>

<span class="n">Optim</span> <span class="n">List</span><span class="p">:</span>
 <span class="n">Solver</span><span class="p">:</span>                    <span class="n">solveRquadprog</span>
 <span class="n">Objective</span><span class="p">:</span>                 <span class="n">portfolioObjective</span> <span class="n">portfolioReturn</span> <span class="n">portfolioRisk</span>
 <span class="n">Options</span><span class="p">:</span>                   <span class="n">meq</span> <span class="o">=</span> <span class="mi">2</span>
 <span class="n">Trace</span><span class="p">:</span>                     <span class="n">FALSE</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Model</span> <span class="n">List</span><span class="p">:</span>
 <span class="n">Type</span><span class="p">:</span>                      <span class="n">MV</span>
 <span class="n">Optimize</span><span class="p">:</span>                  <span class="n">minRisk</span>
 <span class="n">Estimator</span><span class="p">:</span>                 <span class="n">covEstimator</span>
 <span class="n">Params</span><span class="p">:</span>                    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.05</span>

<span class="n">Portfolio</span> <span class="n">List</span><span class="p">:</span>
 <span class="n">Target</span> <span class="n">Weights</span><span class="p">:</span>            <span class="n">NULL</span>
 <span class="n">Target</span> <span class="n">Return</span><span class="p">:</span>             <span class="n">NULL</span>
 <span class="n">Target</span> <span class="n">Risk</span><span class="p">:</span>               <span class="n">NULL</span>
 <span class="n">Risk</span><span class="o">-</span><span class="n">Free</span> <span class="n">Rate</span><span class="p">:</span>            <span class="mi">0</span>
 <span class="n">Number</span> <span class="n">of</span> <span class="n">Frontier</span> <span class="n">Points</span><span class="p">:</span> <span class="mi">20</span>

<span class="n">Optim</span> <span class="n">List</span><span class="p">:</span>
 <span class="n">Solver</span><span class="p">:</span>                    <span class="n">solveRquadprog</span>
 <span class="n">Objective</span><span class="p">:</span>                 <span class="n">portfolioObjective</span> <span class="n">portfolioReturn</span> <span class="n">portfolioRisk</span>
 <span class="n">Options</span><span class="p">:</span>                   <span class="n">meq</span> <span class="o">=</span> <span class="mi">2</span>
 <span class="n">Trace</span><span class="p">:</span>                     <span class="n">FALSE</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Title</span><span class="p">:</span>
 <span class="n">MV</span> <span class="n">Portfolio</span> <span class="n">Frontier</span>
 <span class="n">Estimator</span><span class="p">:</span>         <span class="n">covEstimator</span>
 <span class="n">Solver</span><span class="p">:</span>            <span class="n">solveRquadprog</span>
 <span class="n">Optimize</span><span class="p">:</span>          <span class="n">minRisk</span>
 <span class="n">Constraints</span><span class="p">:</span>       <span class="n">LongOnly</span>
 <span class="n">Portfolio</span> <span class="n">Points</span><span class="p">:</span>  <span class="mi">5</span> <span class="n">of</span> <span class="mi">49</span>

<span class="n">Portfolio</span> <span class="n">Weights</span><span class="p">:</span>
      <span class="n">ECO</span> <span class="n">PFVAVAL</span>    <span class="n">ISA</span> <span class="n">NUTRESA</span>   <span class="n">Bono</span>
<span class="mi">1</span>  <span class="mf">0.0000</span>  <span class="mf">0.1005</span> <span class="mf">0.0000</span>  <span class="mf">0.0000</span> <span class="mf">0.8995</span>
<span class="mi">13</span> <span class="mf">0.0104</span>  <span class="mf">0.1176</span> <span class="mf">0.0000</span>  <span class="mf">0.8172</span> <span class="mf">0.0548</span>
<span class="mi">25</span> <span class="mf">0.0232</span>  <span class="mf">0.0155</span> <span class="mf">0.3245</span>  <span class="mf">0.6060</span> <span class="mf">0.0308</span>
<span class="mi">37</span> <span class="mf">0.0135</span>  <span class="mf">0.0000</span> <span class="mf">0.6637</span>  <span class="mf">0.3021</span> <span class="mf">0.0208</span>
<span class="mi">49</span> <span class="mf">0.0000</span>  <span class="mf">0.0000</span> <span class="mf">1.0000</span>  <span class="mf">0.0000</span> <span class="mf">0.0000</span>

<span class="n">Covariance</span> <span class="n">Risk</span> <span class="n">Budgets</span><span class="p">:</span>
      <span class="n">ECO</span> <span class="n">PFVAVAL</span>    <span class="n">ISA</span> <span class="n">NUTRESA</span>   <span class="n">Bono</span>
<span class="mi">1</span>  <span class="mf">0.0000</span>  <span class="mf">0.0029</span> <span class="mf">0.0000</span>  <span class="mf">0.0000</span> <span class="mf">0.9971</span>
<span class="mi">13</span> <span class="mf">0.0114</span>  <span class="mf">0.1352</span> <span class="mf">0.0000</span>  <span class="mf">0.7634</span> <span class="mf">0.0900</span>
<span class="mi">25</span> <span class="mf">0.0184</span>  <span class="mf">0.0120</span> <span class="mf">0.4408</span>  <span class="mf">0.5095</span> <span class="mf">0.0193</span>
<span class="mi">37</span> <span class="mf">0.0056</span>  <span class="mf">0.0000</span> <span class="mf">0.8437</span>  <span class="mf">0.1473</span> <span class="mf">0.0034</span>
<span class="mi">49</span> <span class="mf">0.0000</span>  <span class="mf">0.0000</span> <span class="mf">1.0000</span>  <span class="mf">0.0000</span> <span class="mf">0.0000</span>

<span class="n">Target</span> <span class="n">Returns</span> <span class="ow">and</span> <span class="n">Risks</span><span class="p">:</span>
      <span class="n">mean</span>     <span class="n">Cov</span>    <span class="n">CVaR</span>     <span class="n">VaR</span>
<span class="mi">1</span>  <span class="o">-</span><span class="mf">0.0006</span>  <span class="mf">0.0728</span>  <span class="mf">0.1799</span>  <span class="mf">0.0712</span>
<span class="mi">13</span> <span class="o">-</span><span class="mf">0.0003</span>  <span class="mf">0.0137</span>  <span class="mf">0.0327</span>  <span class="mf">0.0190</span>
<span class="mi">25</span>  <span class="mf">0.0000</span>  <span class="mf">0.0143</span>  <span class="mf">0.0346</span>  <span class="mf">0.0184</span>
<span class="mi">37</span>  <span class="mf">0.0003</span>  <span class="mf">0.0182</span>  <span class="mf">0.0416</span>  <span class="mf">0.0225</span>
<span class="mi">49</span>  <span class="mf">0.0006</span>  <span class="mf">0.0238</span>  <span class="mf">0.0532</span>  <span class="mf">0.0314</span>

<span class="n">Description</span><span class="p">:</span>
 <span class="n">Thu</span> <span class="n">May</span> <span class="mi">21</span> <span class="mi">20</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">27</span> <span class="mi">2020</span> <span class="n">by</span> <span class="n">user</span><span class="p">:</span> <span class="n">Natalia</span>
</pre></div>
</div>
</div>
<div class="section" id="grafico-de-la-frontera">
<h2>Gráfico de la frontera<a class="headerlink" href="#grafico-de-la-frontera" title="Permalink to this headline"></a></h2>
<p>Al igual que en código presentado para <a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57609">Optimización de
portafolios</a>.
Se crea la frontera eficiente; sin embargo, en este caso puntual no
exite un portafolio tangente debido al comportamiento bajista de las
acciones en los últimos 6 meses, Por tanto, en este caso no se crea
línea del Mercado de Capitales. Si la media de los rendimientos de sus
acciones tienen rendimiento positivo, existirá punto tangencial.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">frontierPlot</span><span class="p">(</span><span class="n">Frontera</span><span class="p">,</span> <span class="n">frontier</span> <span class="o">=</span> <span class="s">&quot;both&quot;</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="s">&quot;black&quot;</span><span class="p">),</span> <span class="n">cex</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
<span class="nf">monteCarloPoints</span><span class="p">(</span><span class="n">Frontera</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;green&quot;</span><span class="p">,</span> <span class="s">&quot;green&quot;</span><span class="p">),</span> <span class="n">mcSteps</span> <span class="o">=</span> <span class="m">500</span><span class="p">,</span> <span class="n">cex</span><span class="o">=</span><span class="m">0.5</span><span class="p">,</span> <span class="n">pch</span> <span class="o">=</span> <span class="m">19</span><span class="p">)</span>
<span class="nf">tangencyLines</span><span class="p">(</span><span class="n">Frontera</span><span class="p">)</span>
<span class="nf">minvariancePoints</span><span class="p">(</span><span class="n">Frontera</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s">&quot;blue&quot;</span><span class="p">,</span> <span class="n">pch</span><span class="o">=</span><span class="m">19</span><span class="p">,</span> <span class="n">cex</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
<span class="nf">tangencyPoints</span><span class="p">(</span><span class="n">Frontera</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s">&quot;red&quot;</span><span class="p">,</span> <span class="n">cex</span><span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">pch</span><span class="o">=</span><span class="m">19</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_16_03.png"><img alt="../../_images/output_16_03.png" src="../../_images/output_16_03.png" style="width: 420px; height: 420px;" /></a>
<div class="line-block">
<div class="line">Igualmente, se observa las infinitas combinaciones que tienen los
portafolios que se ajustan en la frontera a diferentes niveles de
riesgo y rentabilidad, en este caso puntual se observa que no hay
posibilidad de encontrar actualmente, portafolios con rendimientos
positivos.</div>
<div class="line">Este es el mismo grafico presentado en <a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57609">Optimización de
portafolios</a>.</div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gráfico de los pesos del portafolio</span>
<span class="n">col</span><span class="o">=</span> <span class="nf">qualiPalette</span><span class="p">(</span><span class="nf">ncol</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">),</span> <span class="s">&quot;Dark2&quot;</span><span class="p">)</span>
<span class="nf">weightsPlot</span><span class="p">(</span><span class="n">Frontera</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="n">col</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_18_0.png"><img alt="../../_images/output_18_0.png" src="../../_images/output_18_0.png" style="width: 420px; height: 420px;" /></a>
</div>
<div class="section" id="analisis-del-portafolio">
<h2>Análisis del portafolio<a class="headerlink" href="#analisis-del-portafolio" title="Permalink to this headline"></a></h2>
<p>Al incluir un activo libre de riesgo en el portafolio, se espera reducir
el riesgo para el inversionista, por lo que en un portafolio con renta
fija, se debe escoger el portafolio de mínima varianza, ya que bajo esta
lógica, no convendría aumentar el riesgo del inversionista escongiendo
el portafolio tangente.</p>
<p>El portafolio eficiente, se determina similar al de la sección <a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57785">Análisis
y Selección de
Portafolios</a></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># portafolio eficiente o de mínima varianza punto azul (cartera conservadora)</span>
<span class="n">Portafolio_Efi</span><span class="o">=</span> <span class="nf">efficientPortfolio</span><span class="p">(</span><span class="nf">as.timeSeries</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">[</span><span class="m">-1</span><span class="p">,]),</span><span class="n">spec</span> <span class="o">=</span> <span class="n">espcartera</span><span class="p">,</span><span class="n">constraints</span><span class="p">)</span>
<span class="n">Portafolio_Efi</span>
<span class="n">W_efi</span><span class="o">=</span><span class="nf">getWeights</span><span class="p">(</span><span class="n">Portafolio_Efi</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Title</span><span class="p">:</span>
 <span class="n">MV</span> <span class="n">Efficient</span> <span class="n">Portfolio</span>
 <span class="n">Estimator</span><span class="p">:</span>         <span class="n">covEstimator</span>
 <span class="n">Solver</span><span class="p">:</span>            <span class="n">solveRquadprog</span>
 <span class="n">Optimize</span><span class="p">:</span>          <span class="n">minRisk</span>
 <span class="n">Constraints</span><span class="p">:</span>

<span class="n">Portfolio</span> <span class="n">Weights</span><span class="p">:</span>
    <span class="n">ECO</span> <span class="n">PFVAVAL</span>     <span class="n">ISA</span> <span class="n">NUTRESA</span>    <span class="n">Bono</span>
 <span class="mf">0.0104</span>  <span class="mf">0.0617</span>  <span class="mf">0.0853</span>  <span class="mf">0.8056</span>  <span class="mf">0.0370</span>

<span class="n">Covariance</span> <span class="n">Risk</span> <span class="n">Budgets</span><span class="p">:</span>
    <span class="n">ECO</span> <span class="n">PFVAVAL</span>     <span class="n">ISA</span> <span class="n">NUTRESA</span>    <span class="n">Bono</span>
 <span class="mf">0.0104</span>  <span class="mf">0.0617</span>  <span class="mf">0.0853</span>  <span class="mf">0.8056</span>  <span class="mf">0.0370</span>

<span class="n">Target</span> <span class="n">Returns</span> <span class="ow">and</span> <span class="n">Risks</span><span class="p">:</span>
   <span class="n">mean</span>     <span class="n">Cov</span>    <span class="n">CVaR</span>     <span class="n">VaR</span>
<span class="o">-</span><span class="mf">0.0002</span>  <span class="mf">0.0134</span>  <span class="mf">0.0325</span>  <span class="mf">0.0177</span>

<span class="n">Description</span><span class="p">:</span>
 <span class="n">Thu</span> <span class="n">May</span> <span class="mi">21</span> <span class="mi">20</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">39</span> <span class="mi">2020</span> <span class="n">by</span> <span class="n">user</span><span class="p">:</span> <span class="n">Natalia</span>
</pre></div>
</div>
<p>Similar al ratio de Sharpe visto en <a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57785">Análisis y Selección de
Portafolios</a>
se determina nuevamente, para este nuevo portafolio de instrumentos
colombianos</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Ratio Sharpe:</span>
<span class="n">Rport_efi</span><span class="o">=</span><span class="nf">getTargetReturn</span><span class="p">(</span><span class="n">Portafolio_Efi</span><span class="p">)</span>
<span class="n">Riskport_efi</span><span class="o">=</span> <span class="nf">getTargetRisk</span><span class="p">(</span><span class="n">Portafolio_Efi</span><span class="p">)</span>
<span class="n">sigma_efi</span><span class="o">=</span><span class="n">Riskport_efi</span><span class="p">[</span><span class="m">2</span><span class="p">]</span>
<span class="n">Sharpe_efi</span><span class="o">=</span><span class="p">(</span><span class="n">Rport_efi</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">-</span><span class="n">rf</span><span class="p">)</span><span class="o">/</span><span class="n">sigma_efi</span>
<span class="n">Sharpe_efi</span>
</pre></div>
</div>
<strong>mu:</strong> -0.018002090173223<p>Y el gráfico de torta donde se especifica la composisición de la cartera
se realiza de igual forma que en la sección <a class="reference external" href="http://cvirtual.itm.edu.co/mod/resource/view.php?id=57785">Análisis y Selección de
Portafolios</a></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">weightsPie</span><span class="p">(</span><span class="n">Portafolio_Efi</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span> <span class="n">col</span><span class="p">,</span> <span class="n">radius</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span>
<span class="nf">mtext</span><span class="p">(</span><span class="n">text</span> <span class="o">=</span> <span class="s">&quot;portafolio eficiente&quot;</span><span class="p">,</span> <span class="n">side</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">line</span> <span class="o">=</span> <span class="m">1.5</span><span class="p">,</span> <span class="n">font</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">cex</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">,</span> <span class="n">adj</span> <span class="o">=</span> <span class="m">0</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_24_02.png"><img alt="../../_images/output_24_02.png" src="../../_images/output_24_02.png" style="width: 420px; height: 420px;" /></a>
</div>
<div class="section" id="desempeno-del-portafolio-aplicacion-trabajo-final">
<h2>Desempeño del portafolio (Aplicación Trabajo Final)<a class="headerlink" href="#desempeno-del-portafolio-aplicacion-trabajo-final" title="Permalink to this headline"></a></h2>
<p>Cuando se desea observar el desempeño histórico de un portafolio, este
dependerá de la base de inversión con la que se esté configurando. En
este caso particular, se quiere determinar el desempeño para un Fondo de
Inversión Colectivo-FIC, por tanto, como se observan en la fichas
técnicas de los FIC <a class="reference external" href="https://mega.nz/file/GJ1XxTCR#yL2-4AyW7JzC5PEa-pcKZ7d6r-yZC8XlhKNxSbShk1Y">ver ejemplo
aquí</a>,
el desempeño del portafolio de inversión esta determinado por una base
llamada “valor de la unidad”.</p>
<p>Con el fin de representar este mismo escenario, se procede a crear un
valor de la unidad inicial <code class="docutils literal notranslate"><span class="pre">valor_ini_unidad=</span> <span class="pre">2000</span></code>, este valor es
inventado en un monto de 2000. al ser multiplicado por los rendimientos
históricos del portafolio, creados en el objeto
<code class="docutils literal notranslate"><span class="pre">rdto_port_efi=</span> <span class="pre">vector()</span></code>, se podrá visualizar la evolución en el
tiempo del portafolio, es decir, el valor final que tiene el portafolio
basado en un valor inicial de 2000.</p>
<p>Hay que recordar que el valor final de un monto es igual a:</p>
<div class="math notranslate nohighlight">
\[VF=VP\times(1+Rdto)\]</div>
<p>Por ello, se utiliza aplica la formula en
<code class="docutils literal notranslate"><span class="pre">unidad[1]=valor_ini_unidad*(1+rdto_port_efi[1])</span></code></p>
<p>En mi caso, se puede observar que mi portafolio viene en una tendencia
bajista.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#rendimiento histórico del portafolio</span>

<span class="n">rdto_port_efi</span><span class="o">=</span> <span class="nf">vector</span><span class="p">()</span>
<span class="nf">for</span><span class="p">(</span><span class="n">i</span> <span class="n">in</span> <span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">)){</span>
  <span class="n">rdto_port_efi</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span> <span class="nf">sum</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">%*%</span><span class="n">W_efi</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">valor_ini_unidad</span><span class="o">=</span> <span class="m">2000</span>
<span class="n">unidad</span><span class="o">=</span><span class="nf">vector</span><span class="p">()</span>
<span class="n">unidad</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="n">valor_ini_unidad</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="n">rdto_port_efi</span><span class="p">[</span><span class="m">1</span><span class="p">])</span>
<span class="nf">for </span><span class="p">(</span><span class="n">i</span> <span class="n">in</span> <span class="m">2</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">Rdtos</span><span class="p">))</span> <span class="p">{</span>
  <span class="n">unidad</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">unidad</span><span class="p">[</span><span class="n">i</span><span class="m">-1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="o">+</span><span class="n">rdto_port_efi</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="p">}</span>
<span class="nf">plot</span><span class="p">(</span><span class="n">unidad</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="s">&quot;l&quot;</span><span class="p">,</span> <span class="n">main</span><span class="o">=</span> <span class="s">&quot;Rendimientos del portafolio&quot;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_26_0.png"><img alt="../../_images/output_26_0.png" src="../../_images/output_26_0.png" style="width: 420px; height: 420px;" /></a>
<p>De este mismo análisis, se puede obtener el valor actual del portafolio
para este fondo, en este caso, se escoge el último valor del objeto
<code class="docutils literal notranslate"><span class="pre">unidad=</span> <span class="pre">vector()</span></code> Particularmente, el valor de la unidad de mi
portafolio descendió de un valor inicial de COP 2000 a un valor final de
COP 1196.78</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1">#Valor de la unidad al final del portafolio</span>
<span class="n">VF_unidad</span><span class="o">=</span> <span class="nf">tail</span><span class="p">(</span><span class="n">unidad</span><span class="p">,</span><span class="m">1</span><span class="p">)</span>
<span class="n">VF_unidad</span>
</pre></div>
</div>
1196.78647306059</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Practica.html" class="btn btn-neutral float-left" title="Práctica 7: Valoración de Bonos y Principios de Bonos" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../Caracterizaci%C3%B3n%20de%20las%20series%20de%20tiempo/index.html" class="btn btn-neutral float-right" title="Caracterización de las series de tiempo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Natalia Acevedo Prins.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>