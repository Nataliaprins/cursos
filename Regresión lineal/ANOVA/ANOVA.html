<!DOCTYPE html>
<html class="writer-html5" lang="y" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ANOVA &mdash; Material Curso 1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Multicolinealidad" href="../Multicolinealidad/Multicolinealidad.html" />
    <link rel="prev" title="Regresión Lineal Múltiple (RLM)" href="../Regresi%C3%B3n%20Lineal%20M%C3%BAltiple%20%28RLM%29/Regresi%C3%B3n%20Lineal%20M%C3%BAltiple%20%28RLM%29.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Material Curso
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Análisis de datos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Introducci%C3%B3n%20a%20R/index.html">Introducción a R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ggplot2/index.html">ggplot2</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Regresión lineal</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Taller%20Intervalos%20de%20Confianza%20y%20Pruebas%20de%20Hip%C3%B3tesis/Taller%20Intervalos%20de%20Confianza%20y%20Pruebas%20de%20Hip%C3%B3tesis.html">Taller Intervalos de Confianza y Pruebas de Hipótesis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#regresion-lineal-simple-rls">Regresión Lineal Simple - RLS</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#regresion-lineal-multiple-rlm">Regresión Lineal Múltiple - RLM</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Regresi%C3%B3n%20Lineal%20M%C3%BAltiple%20%28RLM%29/Regresi%C3%B3n%20Lineal%20M%C3%BAltiple%20%28RLM%29.html">Regresión Lineal Múltiple (RLM)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ANOVA</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#analisis-de-varianza">Análisis de varianza:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#codigo-en-r">Código en R:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Multicolinealidad/Multicolinealidad.html">Multicolinealidad</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Comparaci%C3%B3n%20de%20modelos/Comparaci%C3%B3n%20de%20modelos.html">Comparación de modelos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../An%C3%A1lisis%20de%20Normalidad%20en%20RLM/An%C3%A1lisis%20de%20Normalidad%20en%20RLM.html">Análisis de Normalidad en RLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Variables%20indicadoras/Variables%20indicadoras.html">Variables indicadoras</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#regresion-logistica">Regresión Logística</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Multivariado/index.html">Análisis Multivariado</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Series%20de%20tiempo/index.html">Series de tiempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Introducci%C3%B3n%20a%20Python/index.html">Introducción a Python</a></li>
</ul>
<p class="caption"><span class="caption-text">Análisis exploratorio de datos:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20gr%C3%A1fico/index.html">Análisis gráfico</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20multivariado%20de%20datos/index.html">Análisis multivariado de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20de%20componentes%20principales/index.html">Análisis de componentes principales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20factorial/index.html">Análisis Factorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/index.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Escalamiento%20Multidimensional/index.html">Escalamiento Multidimensional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Datos%20faltantes/index.html">Datos faltantes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lsis%20de%20correspondencia/index.html">Análisis de correspondencia</a></li>
</ul>
<p class="caption"><span class="caption-text">Teoría de portafolios:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Generalidades%20del%20Mercado%20Colombiano/index.html">Generalidades del Mercado Colombiano</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Manejo%20de%20R-Studio/index.html">Conceptos Previos: Introducción a R y R-Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Conceptos%20B%C3%A1sicos%20de%20Estad%C3%ADstica/index.html">Conceptos Básicos de Estadística</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Teor%C3%ADa%20de%20Portafolios/index.html">Teoría de Portafolios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Selecci%C3%B3n%20de%20Carteras/index.html">Selección de Cartera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Mercado%20de%20Renta%20Fija/index.html">Mercado de Renta fija</a></li>
</ul>
<p class="caption"><span class="caption-text">Modelación:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Caracterizaci%C3%B3n%20de%20las%20series%20de%20tiempo/index.html">Caracterización de las series de tiempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Modelos%20autorregresivos/index.html">ARIMA: autoregresivo integrado de medias móviles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deep%20Learning%20para%20pron%C3%B3stico/index.html">Deep Learning para pronóstico</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Material Curso</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Regresión lineal</a> &raquo;</li>
      <li>ANOVA</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Regresión lineal/ANOVA/ANOVA.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="anova">
<h1>ANOVA<a class="headerlink" href="#anova" title="Permalink to this headline"></a></h1>
<p><strong>Prueba de significancia de la regresión:</strong></p>
<p>Con esta prueba se busca determinar si existe una relación lineal entre
<span class="math notranslate nohighlight">\(y\)</span> y alguna de las variables regresosas <span class="math notranslate nohighlight">\(x_j\)</span>. Este
procedimiento es una prueba de adecuación del modelo.</p>
<p><strong>Pruebas de hipótesis:</strong></p>
<div class="math notranslate nohighlight">
\[H_0: \beta_1 = \beta_2 = ... = \beta_k\]</div>
<div class="math notranslate nohighlight">
\[H_1: \beta_j \neq 0\]</div>
<p>En <span class="math notranslate nohighlight">\(H_1\)</span> se cumple con al menos una <span class="math notranslate nohighlight">\(j\)</span> es diferente de
cero, indica que al menos un coeficiente Beta cumple. Rechazar la
hipótesis nula implica que al menos una regresora contribuye al modelo
de forma significativa. El procedimiento para esta prueba es el
<strong>análisis de varianza</strong> o también llamado <strong>ANOVA.</strong></p>
<div class="section" id="analisis-de-varianza">
<h2>Análisis de varianza:<a class="headerlink" href="#analisis-de-varianza" title="Permalink to this headline"></a></h2>
<p>Este método se usa para probar el significado de la regresión. Aporta
información adicional sobre qué tan bien funciona el modelo de
regresión.</p>
<p>Se basa en una partición de la variabilidad total de la variable
<span class="math notranslate nohighlight">\(y\)</span> en dos.</p>
<p>La variabilidad total la denotaremos como <span class="math notranslate nohighlight">\(SST\)</span>, es la suma de las
diferencias al cuadrado de las observaciones con respecto a la media.</p>
<div class="math notranslate nohighlight">
\[SST = \sum_{i=1}^n{(y_i-\overline{y_i})^2}\]</div>
<p><span class="math notranslate nohighlight">\(SST\)</span> es el sumatoria del cuadrado del error de la predicción,
<span class="math notranslate nohighlight">\(\varepsilon_i^2=\sum{y_i-\overline{y_i}}\)</span>, que es una medida de
la variabilidad de <span class="math notranslate nohighlight">\(y\)</span> sin considerar el efecto de las variables
regresoras. <span class="math notranslate nohighlight">\(SST\)</span> se puede descomponer en dos: variabilidad por la
regresión, <span class="math notranslate nohighlight">\(SSR\)</span>, y en variabilidad residual que queda sin
explicar, <span class="math notranslate nohighlight">\(SSE\)</span>. <span class="math notranslate nohighlight">\(SSE\)</span> es una medida de variabilidad de
<span class="math notranslate nohighlight">\(y\)</span> que queda después de haber tenido en consideración a las
variables regresoras.</p>
<div class="math notranslate nohighlight">
\[SST = SSR + SSE\]</div>
<p>Variabilidad Tota = Variabilidad Explicada + Variabilidad no Explicada.</p>
<div class="math notranslate nohighlight">
\[SSR = \sum_{i=1}^n{(\hat{y_i}-\overline{y_i})^2}\]</div>
<div class="math notranslate nohighlight">
\[SSE = \sum{\hat{\varepsilon}^2} =  \sum_{}(y_i-\hat{y_i})^2\]</div>
<div class="math notranslate nohighlight">
\[SST = \sum_{i=1}^n{(y_i-\overline{y_i})^2}=\sum_{i=1}^n{(\hat{y_i}-\overline{y_i})^2}+\sum_{}(y_i-\hat{y_i})^2\]</div>
<div class="figure align-default" id="id1">
<img alt="SST" src="../../_images/SST.png" />
<p class="caption"><span class="caption-text">SST</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</div>
<p><span class="math notranslate nohighlight">\(SSR\)</span> también podría considerarse como la mejora en la predicción
sobre la media de los datos de las variables explicativas.</p>
<p><span class="math notranslate nohighlight">\(SSE\)</span> es la variabilidad sobrante en <span class="math notranslate nohighlight">\(y\)</span> después de tener en
cuenta las variables explicativas o regresoras.</p>
<p>Se asume que toda la variación en <span class="math notranslate nohighlight">\(y\)</span> se tiene en cuenta con la
variabilidad en las variables regresoras, <span class="math notranslate nohighlight">\(SSR\)</span>, y con la
variabilidad aleatoria <span class="math notranslate nohighlight">\(SSE\)</span>; sin embargo, esto no descarta que se
pueda hacer otras variables que expliquen porciones de la variabilidad
de <span class="math notranslate nohighlight">\(y\)</span>.</p>
<p><strong>Ahora, se debe usar las estadísticas de bondad de ajuste para evaluar
qué parte de la variabilidad en la variable :math:`y` es representada
por el modelo de regresión lineal múltiple.</strong></p>
<p><span class="math notranslate nohighlight">\(R^2\)</span> <strong>coeficiente de determinación:</strong></p>
<p><span class="math notranslate nohighlight">\(R^2\)</span> se encuentra entre cero y uno, donde cero indica que
<span class="math notranslate nohighlight">\(SSR\)</span> es cero y el uno indica que <span class="math notranslate nohighlight">\(SSR = SST\)</span> con
<span class="math notranslate nohighlight">\(SSE = 0\)</span>. Un <span class="math notranslate nohighlight">\(R^2\)</span> denota que las variables explicativas
predicen perfectamente la variable resultados <span class="math notranslate nohighlight">\(y\)</span>, esto es que la
predicción perfecta indica que las observaciones caen directamente en la
línea del ajuste lineal (esto para RLS), para RLM las observaciones caen
en el plano del ajuste del modelo.</p>
<div class="math notranslate nohighlight">
\[R^2 = \frac{SSR}{SST} = 1 - \frac{SSE}{SST}\]</div>
<p><span class="math notranslate nohighlight">\(R^2\)</span> <strong>ajustado:</strong></p>
<p>El <span class="math notranslate nohighlight">\(R^2\)</span> ajustado es el mismo <span class="math notranslate nohighlight">\(R^2\)</span>, pero ajustado por el
número de variables regresoras en el modelo. El <span class="math notranslate nohighlight">\(R^2\)</span> ajustado
puede disminuir al incluir más variables.</p>
<div class="math notranslate nohighlight">
\[R^2_{Ajd} = \left(R^2 - \frac{k}{n-1} \right) \left( \frac{n-1}{n-k-1} \right)\]</div>
<p>Donde,</p>
<p><span class="math notranslate nohighlight">\(n\)</span>: tamaño de la muestra. Número de observaciones por cada
variable.</p>
<p><span class="math notranslate nohighlight">\(k\)</span>: número de variables explicativas en el modelo.</p>
<p>Los valores de <span class="math notranslate nohighlight">\(R^2\)</span> siguen una distribución <span class="math notranslate nohighlight">\(F\)</span>. Esta
distribución tiene dos grados de libertad, conocidos como los grados de
libertad del numerador y del denominador. Los grados de libertad de
numerador, es el número de variables explicativas <span class="math notranslate nohighlight">\(k\)</span> del modelo y
los grados de libertad de denominador es el tamaño de la muestra
<span class="math notranslate nohighlight">\(n\)</span> menos el número de variables explicativas <span class="math notranslate nohighlight">\(k\)</span> menos uno
<span class="math notranslate nohighlight">\((n-k-1)\)</span>.</p>
<p>A continuación se muestra la <strong>tabla ANOVA (Analysis of Variance).</strong>
Esta tabla muestra los valores para <span class="math notranslate nohighlight">\(SST\)</span>, <span class="math notranslate nohighlight">\(SSR\)</span>,
<span class="math notranslate nohighlight">\(SSE\)</span> y la forma para calcular el estadístico <span class="math notranslate nohighlight">\(F\)</span>.</p>
<div class="figure align-default" id="id2">
<img alt="ANOVA" src="../../_images/ANOVA.JPG" />
<p class="caption"><span class="caption-text">ANOVA</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</div>
<p>Así que:</p>
<div class="math notranslate nohighlight">
\[F_0 = \frac{\frac{SSR}{k}}{\frac{SSE}{n-k-1}} = \frac{SSR/k}{\sigma^2}\]</div>
<p>Con el análisis de varianza se calcula el estadístico de prueba
<span class="math notranslate nohighlight">\(F_0\)</span> para aceptar o rechazar la hipótesis hula <span class="math notranslate nohighlight">\(H_0\)</span>. Si
<span class="math notranslate nohighlight">\(F_0\)</span> es grande, es probable que al menos una
<span class="math notranslate nohighlight">\(\beta \neq 0\)</span>, es decir, se rechaza la hipótesis nula.</p>
<p><span class="math notranslate nohighlight">\(H_0\)</span> se rechaza si:</p>
<div class="math notranslate nohighlight">
\[F_0 &gt; F_{\alpha, k, n-k-1}\]</div>
<p>Un valor relativamente grande de <span class="math notranslate nohighlight">\(F\)</span> y un <span class="math notranslate nohighlight">\(Valor-p\)</span> pequeño,
proporcionan evidencia de que el <span class="math notranslate nohighlight">\(R^2\)</span> es mayor que cero.</p>
<p>El analista puede utilizar el <span class="math notranslate nohighlight">\(R^2\)</span> o <span class="math notranslate nohighlight">\(R^2_{adj}\)</span> y la
prueba <span class="math notranslate nohighlight">\(F\)</span> para determinar la importancia del modelo. Una posible
conclusión podría ser la siguiente: el modelo representa el 70% de la
variabilidad y este porcentaje es significativamente mayor que cero.
Esta frase se cumple con un <span class="math notranslate nohighlight">\(R^2\)</span> o <span class="math notranslate nohighlight">\(R^2_{adj}\)</span> igual a 0,70
y que <span class="math notranslate nohighlight">\(F\)</span> sea los suficientemente grande y además, un
<span class="math notranslate nohighlight">\(Valor-p\)</span> pequeño.</p>
<p><strong>MSE:</strong></p>
<p>Con los valores de la tabla ANOVA podemos calcular el MSE (Mean Squared
Error) que es el error cuadrático medio.</p>
<div class="math notranslate nohighlight">
\[MSE = \frac{1}{n-k-1} \sum (y_i - \hat{y_i})^2 =\frac{1}{n-k-1} \sum \hat\varepsilon^2\]</div>
<div class="math notranslate nohighlight">
\[MSE = \frac{SSE}{n-k-1}\]</div>
<p>En el MSE, el <span class="math notranslate nohighlight">\(SSE\)</span> se divide por los grados de libertad,
<span class="math notranslate nohighlight">\(n-k-1\)</span>. El MSE también se denomina varianza residual
<span class="math notranslate nohighlight">\(\sigma^2\)</span>, que cuantifica la varianza de los residuales.</p>
<p>De esta forma, la varianza de los residuos es el MSE, entonces, la
desviación estándar de los residuos es la raíz cuadrada del MSE y se
denota RMSE (root-mean-square error).</p>
<div class="math notranslate nohighlight">
\[RMSE = \sqrt{(MSE)}\]</div>
<p>Las métricas MSE y RMSE también se emplean como estadísticas de bondad
de ajuste porque valores pequeños indican menor variación en los
residuos del modelo. Esto sería que los valores predichos están más
cerca, en promedio, de los valores reales y, por tanto, el modelo está
haciendo un mejor trabajo al predecir la variable <span class="math notranslate nohighlight">\(y\)</span>.</p>
</div>
<div class="section" id="codigo-en-r">
<h2>Código en R:<a class="headerlink" href="#codigo-en-r" title="Permalink to this headline"></a></h2>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">datos</span> <span class="o">=</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;DatosCafe.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;;&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">datos</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">Fecha</span> <span class="n">PrecioInterno</span> <span class="n">PrecioInternacional</span> <span class="n">Producción</span> <span class="n">Exportaciones</span>     <span class="n">TRM</span>
<span class="mi">1</span> <span class="n">ene</span><span class="o">-</span><span class="mi">00</span>        <span class="mi">371375</span>              <span class="mf">130.12</span>        <span class="mi">658</span>           <span class="mi">517</span> <span class="mf">1923.57</span>
<span class="mi">2</span> <span class="n">feb</span><span class="o">-</span><span class="mi">00</span>        <span class="mi">354297</span>              <span class="mf">124.72</span>        <span class="mi">740</span>           <span class="mi">642</span> <span class="mf">1950.64</span>
<span class="mi">3</span> <span class="n">mar</span><span class="o">-</span><span class="mi">00</span>        <span class="mi">360016</span>              <span class="mf">119.51</span>        <span class="mi">592</span>           <span class="mi">404</span> <span class="mf">1956.25</span>
<span class="mi">4</span> <span class="n">abr</span><span class="o">-</span><span class="mi">00</span>        <span class="mi">347538</span>              <span class="mf">112.67</span>       <span class="mi">1055</span>           <span class="mi">731</span> <span class="mf">1986.77</span>
<span class="mi">5</span> <span class="n">may</span><span class="o">-</span><span class="mi">00</span>        <span class="mi">353750</span>              <span class="mf">110.31</span>       <span class="mi">1114</span>           <span class="mi">615</span> <span class="mf">2055.69</span>
<span class="mi">6</span> <span class="n">jun</span><span class="o">-</span><span class="mi">00</span>        <span class="mi">341688</span>              <span class="mf">100.30</span>       <span class="mi">1092</span>           <span class="mi">869</span> <span class="mf">2120.17</span>
     <span class="n">EUR</span>
<span class="mi">1</span> <span class="mf">1916.0</span>
<span class="mi">2</span> <span class="mf">1878.5</span>
<span class="mi">3</span> <span class="mf">1875.0</span>
<span class="mi">4</span> <span class="mf">1832.0</span>
<span class="mi">5</span> <span class="mf">1971.5</span>
<span class="mi">6</span> <span class="mf">2053.5</span>
</pre></div>
</div>
<p><strong>Ajuste del modelo:</strong></p>
<div class="math notranslate nohighlight">
\[Exportaciones = \beta_0+\beta_1Producción +\beta_2 PrecioInternacional +\beta_3 PrecioInterno ++\beta_4TRM +\beta_5 EUR +\varepsilon\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">regression</span> <span class="o">&lt;-</span> <span class="nf">lm</span><span class="p">(</span><span class="n">Exportaciones</span> <span class="o">~</span> <span class="n">Producción</span> <span class="o">+</span> <span class="n">PrecioInternacional</span> <span class="o">+</span> <span class="n">PrecioInterno</span> <span class="o">+</span> <span class="n">TRM</span> <span class="o">+</span> <span class="n">EUR</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">datos</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">regression</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">Call:
lm(formula = Exportaciones ~ Producción + PrecioInternacional +
    PrecioInterno + TRM + EUR, data = datos)

Residuals:
    Min      1Q  Median      3Q     Max
-507.57  -73.29   -2.66   74.68  400.44

Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)          2.800e+02  1.172e+02   2.390   0.0176 *
Producción           5.806e-01  3.284e-02  17.681   &lt;2e-16 <strong>*
PrecioInternacional -1.045e+00  6.248e-01  -1.673   0.0956 .
PrecioInterno        1.878e-04  1.311e-04   1.432   0.1533
TRM                 -3.049e-02  5.367e-02  -0.568   0.5704
EUR                  5.335e-02  2.725e-02   1.958   0.0513 .
---
Signif. codes:  0 '*</strong>' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 121.1 on 258 degrees of freedom
Multiple R-squared:  0.7055,        Adjusted R-squared:  0.6998
F-statistic: 123.6 on 5 and 258 DF,  p-value: &lt; 2.2e-16</pre>
<p><strong>Tabla ANOVA:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">anova</span> <span class="o">&lt;-</span> <span class="nf">anova</span><span class="p">(</span><span class="n">regression</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">anova</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">Analysis of Variance Table

Response: Exportaciones
                     Df  Sum Sq Mean Sq  F value    Pr(&gt;F)
Producción            1 8556536 8556536 583.4640 &lt; 2.2e-16 <strong>*
PrecioInternacional   1    3278    3278   0.2235    0.6368
PrecioInterno         1  439697  439697  29.9826 1.033e-07 *</strong>
TRM                   1    9752    9752   0.6650    0.4156
EUR                   1   56227   56227   3.8341    0.0513 .
Residuals           258 3783586   14665
---
Signif. codes:  0 '<strong>*' 0.001 '</strong>' 0.01 '*' 0.05 '.' 0.1 ' ' 1</pre>
<p><span class="math notranslate nohighlight">\(k\)</span>: cantidad de variables explicativas.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">&lt;-</span> <span class="nf">length</span><span class="p">(</span><span class="n">regression</span><span class="o">$</span><span class="n">coefficients</span><span class="p">)</span> <span class="o">-</span> <span class="m">1</span>
<span class="nf">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">5</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(n\)</span>: tamaño de la muestra.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">&lt;-</span> <span class="nf">length</span><span class="p">(</span><span class="n">regression</span><span class="o">$</span><span class="n">residuals</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">264</span>
</pre></div>
</div>
<p><strong>Suma de cuadrados</strong> - <code class="docutils literal notranslate"><span class="pre">Sum</span> <span class="pre">Sq</span></code>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">SS</span> <span class="o">&lt;-</span> <span class="n">anova</span><span class="o">$</span><span class="n">`Sum Sq`</span>
<span class="nf">print</span><span class="p">(</span><span class="n">SS</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">8556536.044</span>    <span class="mf">3277.966</span>  <span class="mf">439697.106</span>    <span class="mf">9752.074</span>   <span class="mf">56226.905</span> <span class="mf">3783586.184</span>
</pre></div>
</div>
<p><strong>Cuadrado medio</strong> - <code class="docutils literal notranslate"><span class="pre">Mean</span> <span class="pre">Sq</span></code>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">MS</span> <span class="o">&lt;-</span> <span class="n">anova</span><span class="o">$</span><span class="n">`Mean Sq`</span>
<span class="nf">print</span><span class="p">(</span><span class="n">MS</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">8556536.044</span>    <span class="mf">3277.966</span>  <span class="mf">439697.106</span>    <span class="mf">9752.074</span>   <span class="mf">56226.905</span>   <span class="mf">14665.063</span>
</pre></div>
</div>
<p><strong>F</strong> - <code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">value</span></code>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="bp">F</span> <span class="o">&lt;-</span> <span class="n">anova</span><span class="o">$</span><span class="n">`F value`</span>
<span class="nf">print</span><span class="p">(</span><span class="bp">F</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">583.4639921</span>   <span class="mf">0.2235221</span>  <span class="mf">29.9826270</span>   <span class="mf">0.6649868</span>   <span class="mf">3.8340719</span>          <span class="n">NA</span>
</pre></div>
</div>
<p><strong>Valor-p para F</strong> - <code class="docutils literal notranslate"><span class="pre">Pr(&gt;F)</span></code>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">p_value</span> <span class="o">&lt;-</span> <span class="n">anova</span><span class="o">$</span><span class="n">`Pr(&gt;F)`</span>
<span class="nf">print</span><span class="p">(</span><span class="n">p_value</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">3.498183e-68</span> <span class="mf">6.367690e-01</span> <span class="mf">1.033471e-07</span> <span class="mf">4.155571e-01</span> <span class="mf">5.129843e-02</span>
<span class="p">[</span><span class="mi">6</span><span class="p">]</span>           <span class="n">NA</span>
</pre></div>
</div>
<p><strong>SSR:</strong></p>
<div class="math notranslate nohighlight">
\[SSR = \sum_{i=1}^n{(\hat{y_i}-\overline{y_i})^2}\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">SSR</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">((</span><span class="n">regression</span><span class="o">$</span><span class="n">fitted.values</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">datos</span><span class="p">[,</span> <span class="s">&quot;Exportaciones&quot;</span><span class="p">]))</span><span class="o">^</span><span class="m">2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">SSR</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">9065490</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="nf">sum</span><span class="p">(</span><span class="n">SS</span><span class="p">[</span><span class="m">0</span><span class="o">:</span><span class="n">k</span><span class="p">]))</span>   <span class="c1"># Suma de los SS sin contar el de los Residuales.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">9065490</span>
</pre></div>
</div>
<p><strong>SSE:</strong></p>
<div class="math notranslate nohighlight">
\[SSE = \sum{\hat{\varepsilon}^2} =  \sum_{}(y_i-\hat{y_i})^2\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">SSE</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">(</span><span class="n">regression</span><span class="o">$</span><span class="n">residuals</span><span class="o">^</span><span class="m">2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">SSE</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">3783586</span>
</pre></div>
</div>
<p><strong>SST:</strong></p>
<div class="math notranslate nohighlight">
\[SST = \sum_{i=1}^n{(y_i-\overline{y_i})^2}=\sum_{i=1}^n{(\hat{y_i}-\overline{y_i})^2}+\sum_{}(y_i-\hat{y_i})^2\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">SST</span> <span class="o">&lt;-</span> <span class="n">SSR</span> <span class="o">+</span> <span class="n">SSE</span>
<span class="nf">print</span><span class="p">(</span><span class="n">SST</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">12849076</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(R^2\)</span>:</p>
<div class="math notranslate nohighlight">
\[R^2 = \frac{SSR}{SST} = 1 - \frac{SSE}{SST}\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span> <span class="o">&lt;-</span> <span class="n">SSR</span><span class="o">/</span><span class="n">SST</span>
<span class="nf">print</span><span class="p">(</span><span class="n">R2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">0.7055363</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">R2</span> <span class="o">&lt;-</span> <span class="m">1</span> <span class="o">-</span> <span class="n">SSE</span><span class="o">/</span><span class="n">SST</span>
<span class="nf">print</span><span class="p">(</span><span class="n">R2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">0.7055363</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(R^2\)</span> <strong>ajustado:</strong></p>
<div class="math notranslate nohighlight">
\[R^2_{Ajd} = \left(R^2 - \frac{k}{n-1} \right) \left( \frac{n-1}{n-k-1} \right)\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">R2_adj</span> <span class="o">&lt;-</span> <span class="p">(</span><span class="n">R2</span><span class="o">-</span><span class="n">k</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="m">-1</span><span class="p">))</span><span class="o">*</span><span class="p">((</span><span class="n">n</span><span class="m">-1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="m">-1</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">R2_adj</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">0.6998297</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(F_0\)</span>:</p>
<div class="math notranslate nohighlight">
\[F_0 = \frac{\frac{SSR}{k}}{\frac{SSE}{n-k-1}} = \frac{SSR/k}{\sigma^2}\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="bp">F</span> <span class="o">&lt;-</span> <span class="p">(</span><span class="n">SS</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="n">k</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">SS</span><span class="p">[</span><span class="n">k</span><span class="m">+1</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="m">-1</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="bp">F</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">583.4639921</span>   <span class="mf">0.2235221</span>  <span class="mf">29.9826270</span>   <span class="mf">0.6649868</span>   <span class="mf">3.8340719</span>
</pre></div>
</div>
<p><strong>MSE -</strong> <span class="math notranslate nohighlight">\(\sigma^2\)</span>:</p>
<div class="math notranslate nohighlight">
\[MSE = \frac{1}{n-k-1} \sum (y_i - \hat{y_i})^2 =\frac{1}{n-k-1} \sum \hat\varepsilon^2\]</div>
<div class="math notranslate nohighlight">
\[MSE = \frac{SSE}{n-k-1}\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">MSE</span> <span class="o">&lt;-</span> <span class="n">SSE</span><span class="o">/</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="m">-1</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">MSE</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">14665.06</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(F_0\)</span>: con <span class="math notranslate nohighlight">\(\sigma^2\)</span></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="n">SS</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="n">k</span><span class="p">]</span><span class="o">/</span><span class="n">MSE</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">583.4639921</span>   <span class="mf">0.2235221</span>  <span class="mf">29.9826270</span>   <span class="mf">0.6649868</span>   <span class="mf">3.8340719</span>
</pre></div>
</div>
<p><strong>RMSE:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">RMSE</span> <span class="o">&lt;-</span> <span class="nf">sqrt</span><span class="p">(</span><span class="n">MSE</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">RMSE</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">121.0994</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Regresi%C3%B3n%20Lineal%20M%C3%BAltiple%20%28RLM%29/Regresi%C3%B3n%20Lineal%20M%C3%BAltiple%20%28RLM%29.html" class="btn btn-neutral float-left" title="Regresión Lineal Múltiple (RLM)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Multicolinealidad/Multicolinealidad.html" class="btn btn-neutral float-right" title="Multicolinealidad" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Natalia Acevedo Prins.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>