

<!DOCTYPE html>
<html class="writer-html5" lang="y" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Clusters Jerárquicos &mdash; Material Curso 1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Cluster jerárquico en R" href="../Cluster jerárquico en R/Cluster jerárquico en R.html" />
    <link rel="prev" title="K-Means en R" href="../K-Means en R/K-Means en R.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Material Curso
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Análisis de datos:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Introducción a R/index.html">Introducción a R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ggplot2/index.html">ggplot2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regresión lineal/index.html">Regresión lineal</a></li>
</ul>
<p class="caption"><span class="caption-text">Análisis exploratorio de datos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Análisis gráfico/index.html">Análisis gráfico</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Análisis multivariado de datos/index.html">Análisis multivariado de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Análisis de componentes principales/index.html">Análisis de componentes principales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Análisis factorial/index.html">Análisis Factorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Clustering</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Teoría K-Means/Teoría K-Means.html">Teoría K-Means</a></li>
<li class="toctree-l2"><a class="reference internal" href="../K-Means en R/K-Means en R.html">K-Means en R</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Clusters Jerárquicos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aglomerativo">Aglomerativo:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Cluster jerárquico en R/Cluster jerárquico en R.html">Cluster jerárquico en R</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Teoría de portafolios:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Generalidades del Mercado Colombiano/index.html">Generalidades del Mercado Colombiano</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Manejo de R-Studio/index.html">Conceptos Previos: Introducción a R y R-Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Conceptos Básicos de Estadística/index.html">Conceptos Básicos de Estadística</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Teoría de Portafolios/index.html">Teoría de Portafolios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Selección de Carteras/index.html">Selección de Cartera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Mercado de Renta Fija/index.html">Mercado de Renta fija</a></li>
</ul>
<p class="caption"><span class="caption-text">Modelación:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Caracterización de las series de tiempo/index.html">Caracterización de las series de tiempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Modelos autorregresivos/index.html">ARIMA: autoregresivo integrado de medias móviles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deep Learning para pronóstico/index.html">Deep Learning para pronóstico</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Material Curso</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Clustering</a> &raquo;</li>
        
      <li>Clusters Jerárquicos</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/Clustering/Clustering jerarquico/Cluster_jerárquico.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="clusters-jerarquicos">
<h1>Clusters Jerárquicos<a class="headerlink" href="#clusters-jerarquicos" title="Permalink to this headline">¶</a></h1>
<p>El clúster jerárquico es un enfoque alternativo que agrupa objetos
basado en su similaridad.</p>
<p>Una desventaja potencial del agrupamiento de K-means es que requiere que
especifiquemos previamente el número de agrupamientos <span class="math notranslate nohighlight">\(K\)</span>.</p>
<p>Es útil cuando los datos se observaron sin etiquetas de clase y que
queremos realizar un agrupamiento pero no sabemos en cuantos clúster.</p>
<p><strong>El clúster jerárquico, puede ser subdividido en 2 tipos:</strong></p>
<p><strong>1. Aglomerativo:</strong> cada observación se considera inicialmente como un
grupo (hojas y ramas). Luego, los clústeres más similares se fusionan
sucesivamente hasta que solo queda un solo clúster grande (raíz).</p>
<p><strong>2. Divisivo:</strong> es un proceso inverso al agrupamiento aglomerativo,
comienza con la raíz, en la que todos los objetos están incluidos en un
grupo. Luego, los grupos más heterogéneos se dividen sucesivamente hasta
que todas las observaciones están en su propio grupo.</p>
<p>El agrupamiento jerárquico no requiere una elección particular de
<span class="math notranslate nohighlight">\(K\)</span>. Otra ventaja es que brinda como resultado una atractiva
representación basada en árboles, conocido como dendograma.</p>
<div class="section" id="aglomerativo">
<h2>Aglomerativo:<a class="headerlink" href="#aglomerativo" title="Permalink to this headline">¶</a></h2>
<p>El agrupamiento aglomerativo funciona “de abajo hacia arriba”. Es decir,
cada objeto se considera inicialmente como un grupo de un solo elemento
(similar a una hoja de un árbol). En cada paso del algoritmo, los dos
grupos que son más similares se combinan en un nuevo grupo más grande
(nodos). Este procedimiento se repite hasta que todos los puntos son
miembros de un solo grupo grande (raíz).</p>
<p>Tenga en cuenta que el agrupamiento aglomerativo es bueno para
identificar pequeños grupos. El agrupamiento divisivo es bueno para
identificar grandes grupos. En este artículo, nos centraremos
principalmente en el agrupamiento jerárquico aglomerativo.</p>
<div class="figure align-default" id="id1">
<img alt="Dendograma" src="../../_images/Dendograma.png" />
<p class="caption"><span class="caption-text">Dendograma</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Pasos para el algoritmo aglomerativo:</strong></p>
<ol class="arabic simple">
<li><p>Preparación de los datos.</p></li>
<li><p>Cálculo de información de (des)similitud entre cada par de objetos en
el conjunto de datos.</p></li>
<li><p>Uso de la función de vinculación para agrupar objetos en un árbol de
clúster jerárquico, en función de la información de distancia
generada en el paso 1. Los objetos/agrupaciones que están muy cerca
se vinculan mediante la función de vinculación.</p></li>
<li><p>Determinar dónde cortar el árbol jerárquico en grupos. Esto crea una
partición de los datos.</p></li>
</ol>
<p>En la siguiente imagen se visualizan los pasos:</p>
<div class="figure align-default" id="id2">
<img alt="Pasos" src="../../_images/Pasos.png" />
<p class="caption"><span class="caption-text">Pasos</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Medidas de Similitud</strong></p>
<p>Para decidir qué grupos u objetos combinarse o dividirse, necesitamos
métodos para medir la similitud entre los objetos.</p>
<p>Existen muchos métodos para calcular la información de (des)similitud,
puede usar la función <code class="docutils literal notranslate"><span class="pre">dist()</span></code> de R para calcular la distancia entre
cada par de objetos en un conjunto de datos. Los resultados de este
cálculo se conocen como matriz de distancia o disimilitud.</p>
<p><strong>Vinculación de objetos o grupos</strong></p>
<p>La función de vinculación toma la información de distancia, devuelta por
la función <code class="docutils literal notranslate"><span class="pre">dist()</span></code>, y agrupa pares de objetos en grupos en función de
su similitud. luego, estos grupos recién formados se vinculan entre sí
para crear grupos más grandes. Este proceso se repite hasta que todos
los objetos del conjunto de datos original se vinculan en un árbol
jerárquico.</p>
<p>Veamos un ejemplo:</p>
<p><strong>¿Cual es el dendograma resultante?</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">variable_1</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">58</span><span class="p">,</span><span class="m">61</span><span class="p">,</span><span class="m">51</span><span class="p">,</span><span class="m">67</span><span class="p">,</span><span class="m">26</span><span class="p">,</span><span class="m">50</span><span class="p">,</span><span class="m">31</span><span class="p">,</span><span class="m">63</span><span class="p">,</span><span class="m">25</span><span class="p">,</span><span class="m">61</span><span class="p">)</span>
<span class="n">variable_2</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">0</span><span class="p">,</span><span class="m">15</span><span class="p">)</span>
<span class="n">datos</span> <span class="o">=</span> <span class="nf">cbind</span><span class="p">(</span><span class="n">variable_1</span><span class="p">,</span> <span class="n">variable_2</span><span class="p">)</span>
<span class="n">datos</span> <span class="o">=</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">datos</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">puntos</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&quot;P1&quot;</span><span class="p">,</span><span class="s">&quot;P2&quot;</span><span class="p">,</span><span class="s">&quot;P3&quot;</span><span class="p">,</span><span class="s">&quot;P4&quot;</span><span class="p">,</span><span class="s">&quot;P5&quot;</span><span class="p">,</span><span class="s">&quot;P6&quot;</span><span class="p">,</span><span class="s">&quot;P7&quot;</span><span class="p">,</span><span class="s">&quot;P8&quot;</span><span class="p">,</span><span class="s">&quot;P9&quot;</span><span class="p">,</span><span class="s">&quot;P10&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">datos</span><span class="p">)</span><span class="o">+</span><span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">variable_1</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">variable_2</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">3</span><span class="p">)</span><span class="o">+</span><span class="nf">theme_light</span><span class="p">()</span><span class="o">+</span>
    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Variable 1&quot;</span><span class="p">,</span>
        <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;Variable 2&quot;</span><span class="p">)</span><span class="o">+</span>
    <span class="nf">geom_text</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">variable_1</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">variable_2</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">puntos</span><span class="p">),</span> <span class="n">nudge_x</span><span class="o">=</span><span class="m">-1</span><span class="p">,</span> <span class="n">nudge_y</span><span class="o">=</span><span class="m">0.5</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="m">5</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_13_0.png"><img alt="../../_images/output_13_0.png" src="../../_images/output_13_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">plot</span><span class="p">(</span><span class="nf">hclust</span><span class="p">(</span><span class="nf">dist</span><span class="p">(</span><span class="n">datos</span><span class="p">,</span> <span class="n">method</span> <span class="o">=</span> <span class="s">&quot;euclidean&quot;</span><span class="p">),</span> <span class="n">method</span> <span class="o">=</span> <span class="s">&quot;ward.D&quot;</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_14_02.png"><img alt="../../_images/output_14_02.png" src="../../_images/output_14_02.png" style="width: 420px; height: 420px;" /></a>
<p>Los dendogramas corresponden a la representación gráfica del árbol
jerárquico generado por la función <code class="docutils literal notranslate"><span class="pre">hclust()</span></code>.</p>
<p>El dendograma se puede producir en R usando la función base <code class="docutils literal notranslate"><span class="pre">plot()</span></code>,
de la salida de <code class="docutils literal notranslate"><span class="pre">hclust()</span></code>. Sin embargo también podemos usar la
función <code class="docutils literal notranslate"><span class="pre">fviz_dend()</span></code> para producir dendrograma mas estético.</p>
<p><strong>Verificar el árbol de Agrupamiento</strong></p>
<p>Después de dibujado el árbol de clúster jerárquico, es posible que desee
evaluar que las distancias (las alturas) en el árbol reflejen las
distancias originales.</p>
<p>Una forma de medir qué tan bien el árbol de clústeres generado por la
función <code class="docutils literal notranslate"><span class="pre">hclust()</span></code> refleja sus datos, es calcular la correlación entre
las distancias cofenéticas y los datos de distancia originales generados
por la función <code class="docutils literal notranslate"><span class="pre">dist()</span></code>.</p>
<p>Si la agrupación es válida, la vinculación de objetos en el árbol de
agrupación debería tener una fuerte correlación con las distancias entre
objetos en la matriz de distancia original.</p>
<p><strong>Cortar el dendograma para identificar el número de agrupaciones</strong></p>
<p>Realmente no hay un criterio claro para cortar el dendograma, pueden
incluso usarse las mismas medidas que el K-means. pero además, podrían
usarse un numero de clústers definidos <em>a priori</em> o establecer un nivel
máximo de desimilitud aceptada.</p>
<div class="figure align-default" id="id3">
<img alt="Dendograma_cortado" src="../../_images/Dendograma_cortado.png" />
<p class="caption"><span class="caption-text">Dendograma_cortado</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Cluster jerárquico en R/Cluster jerárquico en R.html" class="btn btn-neutral float-right" title="Cluster jerárquico en R" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../K-Means en R/K-Means en R.html" class="btn btn-neutral float-left" title="K-Means en R" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Natalia Acevedo Prins

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>