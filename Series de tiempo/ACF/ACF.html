<!DOCTYPE html>
<html class="writer-html5" lang="y" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ACF &mdash; Material Curso 1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Modelos Autorregresivos - AR" href="../Modelos%20Autorregresivos%20-%20AR/Modelos%20Autorregresivos%20-%20AR.html" />
    <link rel="prev" title="Características de las series de tiempo" href="../Caracter%C3%ADsticas%20de%20las%20series%20de%20tiempo/Caracter%C3%ADsticas%20de%20las%20series%20de%20tiempo.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Material Curso
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Análisis de datos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Introducci%C3%B3n%20a%20R/index.html">Introducción a R</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ggplot2/index.html">ggplot2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Regresi%C3%B3n%20lineal/index.html">Regresión lineal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Multivariado/index.html">Análisis Multivariado</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Series de tiempo</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Caracter%C3%ADsticas%20de%20las%20series%20de%20tiempo/Caracter%C3%ADsticas%20de%20las%20series%20de%20tiempo.html">Características de las series de tiempo</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ACF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#funcion-de-autocorrelacion-acf">Función de Autocorrelación (ACF):</a></li>
<li class="toctree-l3"><a class="reference internal" href="#acf-series-estacionales">ACF series estacionales:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#funcion-acf-de-r">Función <code class="docutils literal notranslate"><span class="pre">acf</span></code> de R:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#acf-series-con-tendencia">ACF series con tendencia:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#acf-series-sin-tendencia">ACF series sin tendencia:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#acf-series-ruido-blanco">ACF series Ruido Blanco:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prueba-con-la-acf">Prueba con la ACF:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comportamiento-de-la-acf">Comportamiento de la ACF:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conclusion-con-la-acf">Conclusión con la ACF:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transformacion-de-las-series-de-tiempo">Transformación de las series de tiempo:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-con-la-variacion-mensual-del-ipc">Ejemplo con la variación mensual del IPC:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-con-el-precio-mensual-del-colcap">Ejemplo con el precio mensual del COLCAP:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Modelos%20Autorregresivos%20-%20AR/Modelos%20Autorregresivos%20-%20AR.html">Modelos Autorregresivos - AR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Pron%C3%B3stico%20con%20AR/Pron%C3%B3stico%20con%20AR.html">Pronóstico con AR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autoplot%20para%20series%20de%20tiempo/autoplot%20para%20series%20de%20tiempo.html">autoplot para series de tiempo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#lecturas">Lecturas</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Análisis exploratorio de datos:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20gr%C3%A1fico/index.html">Análisis gráfico</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20multivariado%20de%20datos/index.html">Análisis multivariado de datos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20de%20componentes%20principales/index.html">Análisis de componentes principales</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lisis%20factorial/index.html">Análisis Factorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Clustering/index.html">Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Escalamiento%20Multidimensional/index.html">Escalamiento Multidimensional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Datos%20faltantes/index.html">Datos faltantes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../An%C3%A1lsis%20de%20correspondencia/index.html">Análisis de correspondencia</a></li>
</ul>
<p class="caption"><span class="caption-text">Teoría de portafolios:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Generalidades%20del%20Mercado%20Colombiano/index.html">Generalidades del Mercado Colombiano</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Manejo%20de%20R-Studio/index.html">Conceptos Previos: Introducción a R y R-Studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Conceptos%20B%C3%A1sicos%20de%20Estad%C3%ADstica/index.html">Conceptos Básicos de Estadística</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Teor%C3%ADa%20de%20Portafolios/index.html">Teoría de Portafolios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Selecci%C3%B3n%20de%20Carteras/index.html">Selección de Cartera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Mercado%20de%20Renta%20Fija/index.html">Mercado de Renta fija</a></li>
</ul>
<p class="caption"><span class="caption-text">Modelación:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Caracterizaci%C3%B3n%20de%20las%20series%20de%20tiempo/index.html">Caracterización de las series de tiempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Modelos%20autorregresivos/index.html">ARIMA: autoregresivo integrado de medias móviles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Deep%20Learning%20para%20pron%C3%B3stico/index.html">Deep Learning para pronóstico</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Material Curso</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Series de tiempo</a> &raquo;</li>
      <li>ACF</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Series de tiempo/ACF/ACF.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="acf">
<h1>ACF<a class="headerlink" href="#acf" title="Permalink to this headline"></a></h1>
<p>La <strong>covarianza</strong> mide el movimiento conjunto (co-movimiento) entre dos
variables aleatorias. En las series de tiempo univariadas donde tenemos
una sola variable aleatoria, la covarianza se aplica para medir la
relación entre varios puntos en el tiempo de la misma serie temporal, es
decir, se puede calcular la covarianza entre el valor <span class="math notranslate nohighlight">\(z_t\)</span> y el
valor <span class="math notranslate nohighlight">\(z_{t-1}\)</span> (un período anterior). También se podría hacer
entre <span class="math notranslate nohighlight">\(z_t\)</span> y <span class="math notranslate nohighlight">\(z_{t-2}\)</span>, que es la covarianza entre dos
períodos. Estos períodos anteriores se llaman <strong>rezagos</strong>, en inglés
<strong>lags</strong> y se denominan con la letra <span class="math notranslate nohighlight">\(k\)</span>.</p>
<p>La covarianza entre los rezagos <span class="math notranslate nohighlight">\(k\)</span> de una serie de tiempo se
llama <strong>autocovarianza</strong> <span class="math notranslate nohighlight">\(\gamma_k\)</span> y se define como:</p>
<div class="math notranslate nohighlight">
\[\gamma_k  = Cov[z_t,z_{t-k}]=E[(z_t-\overline{z})(z_{t-k}-\overline{z})]\]</div>
<p>Las covarianzas tienen las mismas unidades que la variable por lo que es
difícil concluir la dimensión del movimiento conjunto, pero una forma
estándar de medir el movimiento conjunto es con el <strong>coeficiente de
correlación</strong> que parte de la covarianza, pero se divide por la varianza
entre las variables y el resultado siempre estará entre <span class="math notranslate nohighlight">\(-1\)</span> y
<span class="math notranslate nohighlight">\(1\)</span>.</p>
<p>La correlación entre los rezagos <span class="math notranslate nohighlight">\(k\)</span> de una serie de tiempo se
llama <strong>autocorrelación</strong> <span class="math notranslate nohighlight">\(\rho_k\)</span> y se define como:</p>
<div class="math notranslate nohighlight">
\[\rho_k = \frac{E[(z_t-\overline{z})(z_{t-k}-\overline{z})]}{\sqrt{E[(z_t-\overline{z})^2]E[(z_{t-k}-\overline{z})^2]}}\]</div>
<p>Como solo se tiene una variable aleatoria que es la serie de tiempo,
entonces el denominador es solo la varianza de la serie
<span class="math notranslate nohighlight">\(\sigma_z^2\)</span> así:</p>
<div class="math notranslate nohighlight">
\[\rho_k = \frac{Cov[z_t,z_{t-k}]}{\sigma_z^2}\]</div>
<p>Para:</p>
<div class="math notranslate nohighlight">
\[0 \leq k \leq N-1\]</div>
<p>Donde:</p>
<div class="math notranslate nohighlight">
\[\overline{z} = \frac{1}{N}\sum_{t=1}^N{z_t}\]</div>
<div class="math notranslate nohighlight">
\[\sigma_z^2=\frac{1}{N}\sum_{t=1}^N{(z_t-\overline{z})^2}\]</div>
<p>Una forma para estimar la covarianza <span class="math notranslate nohighlight">\(\gamma_k\)</span> para una serie
<strong>estacionaria</strong> de <span class="math notranslate nohighlight">\(N\)</span> observaciones es:</p>
<div class="math notranslate nohighlight">
\[\gamma_k = \frac{1}{N}\sum{(z_t-\overline{z})(z_{t-k}-\overline{z})}\]</div>
<p>Así que la <strong>autocorrelación</strong> se puede reescribir como:</p>
<div class="math notranslate nohighlight">
\[\rho_k = \frac{\sum{(z_t-\overline{z})(z_{t-k}-\overline{z})}}{N \times \sigma_z^2}\]</div>
<p>La autocorrelación siempre estará entre <span class="math notranslate nohighlight">\(-1\)</span> y <span class="math notranslate nohighlight">\(1\)</span>. Valores
cercanos a <span class="math notranslate nohighlight">\(1\)</span> significan que las observaciones separadas
<span class="math notranslate nohighlight">\(k\)</span> unidades de tiempo tienen una fuerte tendencia a moverse
juntas en forma lineal con pendiente positiva, es decir, tienen alta
correlación. En cambio, con ACF cercana a <span class="math notranslate nohighlight">\(-1\)</span> las observaciones
con un lag de <span class="math notranslate nohighlight">\(k\)</span> unidades de tiempo tienen una fuerte tendencia a
moverse juntas en forma lineal con pendiente negativa, es decir, tienen
correlación inversa.</p>
<div class="section" id="funcion-de-autocorrelacion-acf">
<h2>Función de Autocorrelación (ACF):<a class="headerlink" href="#funcion-de-autocorrelacion-acf" title="Permalink to this headline"></a></h2>
<p>El gráfico del coeficiente de autocorrelación, <span class="math notranslate nohighlight">\(\rho_k\)</span>, en
función de los rezagos <span class="math notranslate nohighlight">\(k\)</span>, es llamado <strong>Función de
Autocorrelación (ACF)</strong> (sample autocorrelation function). Anteriomente
se le llamaba <strong>correlograma.</strong></p>
<p>Debido a que la matriz de coeficientes de correlación es simétrica, se
cumple que <span class="math notranslate nohighlight">\(\rho_k=\rho_{-k}\)</span>, por tanto, solo es necesario
graficar la parte positiva <span class="math notranslate nohighlight">\(k\)</span>.</p>
<p>En la práctica, para obtener una estimación útil de la función de
autocorrelación, se necesita al menos 50 observaciones y la estimación
de autocorrelación <span class="math notranslate nohighlight">\(\rho_k\)</span>, debería ser calculada hasta un máximo
de <span class="math notranslate nohighlight">\(k=\frac{N}{4}\)</span>.</p>
<p>Para un proceso estacionario, la varianza <span class="math notranslate nohighlight">\(\sigma_z^2\)</span> es igual a
la autocovarianza <span class="math notranslate nohighlight">\(\gamma_0\)</span> <span class="math notranslate nohighlight">\((\sigma_z^2=\gamma_0)\)</span> y es la
misma en el tiempo <span class="math notranslate nohighlight">\(𝑡 - 𝑘\)</span> como en el tiempo <span class="math notranslate nohighlight">\(𝑡\)</span>. Por lo
tanto, la autocorrelación en el rezago <span class="math notranslate nohighlight">\(𝑘\)</span>, es decir, la
correlación entre <span class="math notranslate nohighlight">\(z_t\)</span> y <span class="math notranslate nohighlight">\(z_{t-k}\)</span> es:</p>
<div class="math notranslate nohighlight">
\[\rho_k = \frac{\gamma_k}{\gamma_0}\]</div>
<p>Lo anterior implica que <span class="math notranslate nohighlight">\(\rho_0=1\)</span>. Es común encontrar el ACF
donde se grafica a partir del cero donde <span class="math notranslate nohighlight">\(k=0\)</span> y siempre tendrá
una autocorrelación igual a la unidad (la correlación de una variable
con ella misma siempre es 1).</p>
</div>
<div class="section" id="acf-series-estacionales">
<h2>ACF series estacionales:<a class="headerlink" href="#acf-series-estacionales" title="Permalink to this headline"></a></h2>
<p><strong>Ejemplo 1:</strong></p>
<p>Utilizar el archivo <code class="docutils literal notranslate"><span class="pre">Estacionalidad.csv</span></code> que contiene 100
observaciones.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">estacional</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;Estacionalidad.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">estacional</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">estacional</span><span class="p">[,</span><span class="m">1</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_15_02.png"><img alt="../../_images/output_15_02.png" src="../../_images/output_15_02.png" style="width: 420px; height: 420px;" /></a>
<p>La serie de tiempo para hacer los cálculos la llamaremos <span class="math notranslate nohighlight">\(z\)</span>.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="n">estacional</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="mf">1.2026828</span>  <span class="mf">1.8367861</span>  <span class="mf">1.2442082</span>  <span class="mf">0.7727209</span>  <span class="mf">0.5337453</span> <span class="o">-</span><span class="mf">0.6102938</span>
</pre></div>
</div>
<p>La serie de tiempo <span class="math notranslate nohighlight">\(z\)</span> tiene <span class="math notranslate nohighlight">\(N = 100\)</span> observaciones.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">&lt;-</span> <span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">100</span>
</pre></div>
</div>
<p>Los rezagos se denominarán <span class="math notranslate nohighlight">\(k\)</span>.</p>
<p>Para el primer rezago <span class="math notranslate nohighlight">\(k=1\)</span>.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">&lt;-</span> <span class="m">1</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(z_t\)</span> será la serie de tiempo sin los últimos <span class="math notranslate nohighlight">\(k\)</span> valores.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z_t</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">-</span><span class="n">k</span><span class="p">)]</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">z_t</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="mf">1.2026828</span>  <span class="mf">1.8367861</span>  <span class="mf">1.2442082</span>  <span class="mf">0.7727209</span>  <span class="mf">0.5337453</span> <span class="o">-</span><span class="mf">0.6102938</span>
</pre></div>
</div>
<p><span class="math notranslate nohighlight">\(z_t\)</span> será la serie de tiempo que empieza desde el rezago
<span class="math notranslate nohighlight">\(k\)</span>.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z_k</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="p">[(</span><span class="n">k</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)]</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">z_k</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="mf">1.8367861</span>  <span class="mf">1.2442082</span>  <span class="mf">0.7727209</span>  <span class="mf">0.5337453</span> <span class="o">-</span><span class="mf">0.6102938</span> <span class="o">-</span><span class="mf">0.5144100</span>
</pre></div>
</div>
<p>La varianza de la serie de tiempo <span class="math notranslate nohighlight">\(z\)</span> es:</p>
<div class="math notranslate nohighlight">
\[\sigma_z^2=\frac{1}{N}\sum_{t=1}^N{(z_t-\overline{z})^2}\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">var_z</span> <span class="o">&lt;-</span> <span class="p">(</span><span class="nf">sum</span><span class="p">((</span><span class="n">z</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">^</span><span class="m">2</span><span class="p">))</span><span class="o">/</span><span class="n">N</span>
<span class="nf">print</span><span class="p">(</span><span class="n">var_z</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">8.974702</span>
</pre></div>
</div>
<p>La autocorrelación para rezago <span class="math notranslate nohighlight">\(k=1\)</span> es:</p>
<div class="math notranslate nohighlight">
\[\rho_k = \frac{\sum{(z_t-\overline{z})(z_{t-k}-\overline{z})}}{N \times \sigma_z^2}\]</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">rho_k</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">((</span><span class="n">z_t</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">z_k</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">z</span><span class="p">)))</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">var_z</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">rho_k</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">0.9564429</span>
</pre></div>
</div>
<p>El valor del AFC para el primer rezago es 0,956, este valor está muy
cercano a la unidad, por tanto, la serie de tiempo tiene alta
dependencia de la observación del período anterior.</p>
<p>Para <span class="math notranslate nohighlight">\(k=2\)</span>:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">&lt;-</span> <span class="m">2</span>
<span class="n">z_t</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">-</span><span class="n">k</span><span class="p">)]</span>
<span class="n">z_k</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="p">[(</span><span class="n">k</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)]</span>
<span class="n">rho_k</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">((</span><span class="n">z_t</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">z_k</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">z</span><span class="p">)))</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">var_z</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">rho_k</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mf">0.9026627</span>
</pre></div>
</div>
<p>La serie de tiempo también tiene alta dependencia con el segundo rezago
porque el AFC para <span class="math notranslate nohighlight">\(k=2\)</span> es 0,903.</p>
<p>Podemos utilizar un ciclo <code class="docutils literal notranslate"><span class="pre">for</span></code> para calcular varios valores de ACF.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">rho_k</span> <span class="o">&lt;-</span> <span class="nf">vector</span><span class="p">()</span>

<span class="nf">for</span><span class="p">(</span><span class="n">k</span> <span class="n">in</span> <span class="m">1</span><span class="o">:</span><span class="m">25</span><span class="p">){</span>
    <span class="n">z_t</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">-</span><span class="n">k</span><span class="p">)]</span>
    <span class="n">z_k</span> <span class="o">&lt;-</span> <span class="n">z</span><span class="p">[(</span><span class="n">k</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)]</span>
    <span class="n">rho_k</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="nf">sum</span><span class="p">((</span><span class="n">z_t</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">z</span><span class="p">))</span><span class="o">*</span><span class="p">(</span><span class="n">z_k</span> <span class="o">-</span> <span class="nf">mean</span><span class="p">(</span><span class="n">z</span><span class="p">)))</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">var_z</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_bar</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">25</span><span class="p">),</span> <span class="n">y</span> <span class="o">=</span>  <span class="n">rho_k</span><span class="p">),</span> <span class="n">stat</span> <span class="o">=</span> <span class="s">&quot;identity&quot;</span><span class="p">,</span> <span class="n">position</span> <span class="o">=</span> <span class="s">&quot;identity&quot;</span><span class="p">)</span><span class="o">+</span>
    <span class="nf">theme_minimal</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_38_01.png"><img alt="../../_images/output_38_01.png" src="../../_images/output_38_01.png" style="width: 420px; height: 420px;" /></a>
<p>La relación lineal entre los rezagos los podemos ver en un gráfico de
nubes de puntos así:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">z_t</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z_k</span><span class="p">))</span><span class="o">+</span>
    <span class="nf">theme_minimal</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_40_02.png"><img alt="../../_images/output_40_02.png" src="../../_images/output_40_02.png" style="width: 420px; height: 420px;" /></a>
<p>El gráfico anterior muestra que la serie de tiempo tiene alta
dependencia con el primer rezago. Esto también se puede aplicar para los
demás rezagos, pero lo común es graficar solamente la función de
autocorrelación.</p>
</div>
<div class="section" id="funcion-acf-de-r">
<h2>Función <code class="docutils literal notranslate"><span class="pre">acf</span></code> de R:<a class="headerlink" href="#funcion-acf-de-r" title="Permalink to this headline"></a></h2>
<p>Podemos utilizar la función <code class="docutils literal notranslate"><span class="pre">acf()</span></code> de la librería <code class="docutils literal notranslate"><span class="pre">stats</span></code> para
calcular los valores del ACF y mostrar la gráfica.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">acf</span> <span class="o">&lt;-</span> <span class="nf">acf</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">25</span><span class="p">)</span>
<span class="n">acf</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Autocorrelations</span> <span class="n">of</span> <span class="n">series</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">by</span> <span class="n">lag</span>

    <span class="mi">0</span>     <span class="mi">1</span>     <span class="mi">2</span>     <span class="mi">3</span>     <span class="mi">4</span>     <span class="mi">5</span>     <span class="mi">6</span>     <span class="mi">7</span>     <span class="mi">8</span>     <span class="mi">9</span>    <span class="mi">10</span>    <span class="mi">11</span>    <span class="mi">12</span>
<span class="mf">1.000</span> <span class="mf">0.956</span> <span class="mf">0.903</span> <span class="mf">0.835</span> <span class="mf">0.767</span> <span class="mf">0.708</span> <span class="mf">0.664</span> <span class="mf">0.640</span> <span class="mf">0.638</span> <span class="mf">0.646</span> <span class="mf">0.662</span> <span class="mf">0.669</span> <span class="mf">0.664</span>
   <span class="mi">13</span>    <span class="mi">14</span>    <span class="mi">15</span>    <span class="mi">16</span>    <span class="mi">17</span>    <span class="mi">18</span>    <span class="mi">19</span>    <span class="mi">20</span>    <span class="mi">21</span>    <span class="mi">22</span>    <span class="mi">23</span>    <span class="mi">24</span>    <span class="mi">25</span>
<span class="mf">0.637</span> <span class="mf">0.592</span> <span class="mf">0.535</span> <span class="mf">0.473</span> <span class="mf">0.413</span> <span class="mf">0.367</span> <span class="mf">0.337</span> <span class="mf">0.323</span> <span class="mf">0.323</span> <span class="mf">0.330</span> <span class="mf">0.335</span> <span class="mf">0.332</span> <span class="mf">0.316</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_44_1.png"><img alt="../../_images/output_44_1.png" src="../../_images/output_44_1.png" style="width: 420px; height: 420px;" /></a>
<p>El comportamiento anterior de la ACF es común en las series de tiempo
estacionales.</p>
<p><strong>Ejemplo 2:</strong></p>
<p>Utilizar el archivo <code class="docutils literal notranslate"><span class="pre">Estacionalidad2.csv</span></code> que contiene 100
observaciones.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">estacional2</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;Estacionalidad2.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">estacional2</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">estacional2</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_49_01.png"><img alt="../../_images/output_49_01.png" src="../../_images/output_49_01.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">estacional2</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">25</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_50_02.png"><img alt="../../_images/output_50_02.png" src="../../_images/output_50_02.png" style="width: 420px; height: 420px;" /></a>
</div>
<div class="section" id="acf-series-con-tendencia">
<h2>ACF series con tendencia:<a class="headerlink" href="#acf-series-con-tendencia" title="Permalink to this headline"></a></h2>
<p>Utilizar el archivo <code class="docutils literal notranslate"><span class="pre">Tendencia.csv</span></code> que contiene 100 observaciones.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">tendencia</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;Tendencia.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">tendencia</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">tendencia</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_54_0.png"><img alt="../../_images/output_54_0.png" src="../../_images/output_54_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">tendencia</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">25</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_55_0.png"><img alt="../../_images/output_55_0.png" src="../../_images/output_55_0.png" style="width: 420px; height: 420px;" /></a>
</div>
<div class="section" id="acf-series-sin-tendencia">
<h2>ACF series sin tendencia:<a class="headerlink" href="#acf-series-sin-tendencia" title="Permalink to this headline"></a></h2>
<p>Utilizar el archivo <code class="docutils literal notranslate"><span class="pre">Ejemplo3.csv</span></code> que contiene 100 observaciones.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">ejemplo3</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;Ejemplo3.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">ejemplo3</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">ejemplo3</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_59_01.png"><img alt="../../_images/output_59_01.png" src="../../_images/output_59_01.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">ejemplo3</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">25</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_60_01.png"><img alt="../../_images/output_60_01.png" src="../../_images/output_60_01.png" style="width: 420px; height: 420px;" /></a>
</div>
<div class="section" id="acf-series-ruido-blanco">
<h2>ACF series Ruido Blanco:<a class="headerlink" href="#acf-series-ruido-blanco" title="Permalink to this headline"></a></h2>
<p>Utilizar el archivo <code class="docutils literal notranslate"><span class="pre">RuidoBlanco.csv</span></code> que contiene 200 observaciones.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">ruidoblanco</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;RuidoBlanco.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;.&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">ruidoblanco</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">ruidoblanco</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_64_01.png"><img alt="../../_images/output_64_01.png" src="../../_images/output_64_01.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">ruidoblanco</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">50</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_65_0.png"><img alt="../../_images/output_65_0.png" src="../../_images/output_65_0.png" style="width: 420px; height: 420px;" /></a>
<p>En los procesos de ruido blanco cada observación es independiente de las
demás y no hay autocorrelación.</p>
</div>
<div class="section" id="prueba-con-la-acf">
<h2>Prueba con la ACF:<a class="headerlink" href="#prueba-con-la-acf" title="Permalink to this headline"></a></h2>
<p>Con la Función de Autocorrelación (ACF) se prueban las siguientes
hipótesis:</p>
<p><span class="math notranslate nohighlight">\(H_0:\)</span> <span class="math notranslate nohighlight">\(\rho_k = 0\)</span></p>
<p><span class="math notranslate nohighlight">\(H_1:\)</span> <span class="math notranslate nohighlight">\(\rho_k \neq 0\)</span></p>
<p>La hipótesis nula indica que la serie de tiempo es estacionaria
gaussiana, es decir, <span class="math notranslate nohighlight">\(H_0\)</span> indica que la serie de tiempo es ruido
blanco.</p>
<p>El <strong>error estándar (se)</strong> (standard error) de <span class="math notranslate nohighlight">\(\rho_k\)</span> es:</p>
<div class="math notranslate nohighlight">
\[se[\rho_k] \simeq \frac{1}{\sqrt{N}}\]</div>
<p>Para <span class="math notranslate nohighlight">\(k&gt;0\)</span></p>
<p>El límite de <span class="math notranslate nohighlight">\(2\pm se[\rho_k]\)</span> se usa para determinar bajo el
supuesto de que la serie es completamente aleatoria, es decir, ruido
blanco. Los valores de <span class="math notranslate nohighlight">\(\rho_k\)</span> mayores a <span class="math notranslate nohighlight">\(2\pm se[\rho_k]\)</span>
se concluyen que son mayores que cero.</p>
<p>Con la hipótesis nula de que el proceso es ruido blanco, <span class="math notranslate nohighlight">\(\rho_k\)</span>
converge a una distribución normal cero y varianza igual a
<span class="math notranslate nohighlight">\(\frac{1}{N}\)</span>. Esta varianza es útil para probar la significancia
de las autocorrelaciones estimadas. Los gráficos de la ACF tienen una
franja de líneas punteadas que representan la significancia de cada
<span class="math notranslate nohighlight">\(\rho_k\)</span>, esta franja son <span class="math notranslate nohighlight">\(\pm 2\)</span> desviaciones estándar de
<span class="math notranslate nohighlight">\(\rho_k\)</span>
<span class="math notranslate nohighlight">\((\pm 2 \times se[\rho_k]=\pm \frac{2}{\sqrt{(N)}})\)</span>.</p>
<p>Por tanto, si <span class="math notranslate nohighlight">\(\rho_k\)</span> está por fuera del rango
<span class="math notranslate nohighlight">\(\frac{2}{\sqrt{(N)}}\)</span>, la serie de tiempo no es ruido blanco
porque tiene alta dependencia al rezago <span class="math notranslate nohighlight">\(k\)</span>.</p>
</div>
<div class="section" id="comportamiento-de-la-acf">
<h2>Comportamiento de la ACF:<a class="headerlink" href="#comportamiento-de-la-acf" title="Permalink to this headline"></a></h2>
<p>Para series de tiempo no estacional, la ACF puede mostrar varios
comportamientos.</p>
<p>Si ACF <span class="math notranslate nohighlight">\(\rho_k\)</span> es grande se rechaza la hipótesis nula de que la
<strong>autocorrelación teórica</strong> en el rezago <span class="math notranslate nohighlight">\(k\)</span> es igual a cero.</p>
<p>Los comportamientos más comunes de la AFC son:</p>
<ul class="simple">
<li><p>Los valores de la ACF disminuyen notoriamente después del lag 2
<span class="math notranslate nohighlight">\((k=2)\)</span>.</p></li>
<li><p>Los valores de la ACF disminuyen lentamente a medida que aumenta
<span class="math notranslate nohighlight">\(k\)</span> (caída exponencial).</p></li>
<li><p>Un gráfico en forma de seno.</p></li>
<li><p>Disminución en forma exponencial con oscilación.</p></li>
</ul>
<p>La siguiente figura muestra una caída rápida de la ACF después del
desfase 2.</p>
<div class="figure align-default" id="id1">
<img alt="ACF1" src="../../_images/ACF1.png" />
<p class="caption"><span class="caption-text">ACF1</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</div>
<p>La siguiente figura muestra una caída exponencial de la ACF.</p>
<div class="figure align-default" id="id2">
<img alt="ACF2" src="../../_images/ACF2.png" />
<p class="caption"><span class="caption-text">ACF2</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</div>
<p>La siguiente figura muestra una caída de la ACF en forma de seno.</p>
<div class="figure align-default" id="id3">
<img alt="ACF3" src="../../_images/ACF3.png" />
<p class="caption"><span class="caption-text">ACF3</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</div>
<p>La siguiente figura muestra una caída exponencial de la ACF, pero con
oscilación.</p>
<div class="figure align-default" id="id4">
<img alt="ACF4" src="../../_images/ACF4.png" />
<p class="caption"><span class="caption-text">ACF4</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</div>
</div>
<div class="section" id="conclusion-con-la-acf">
<h2>Conclusión con la ACF:<a class="headerlink" href="#conclusion-con-la-acf" title="Permalink to this headline"></a></h2>
<p>Podemos concluir lo siguiente para series de tiempo no estacional:</p>
<ol class="arabic simple">
<li><p>Si los valores de la ACF caen rápidamente se debe considerar la serie
de tiempo como estacionaria, por lo general caen en <span class="math notranslate nohighlight">\(k=2\)</span>.</p></li>
<li><p>Si los valores de la ACF caen lentamente se debe considerar la serie
de tiempo como no estacionaria.</p></li>
</ol>
<p>Primero se debe calcular la ACF a la serie de tiempo original, si los
valores de la ACF caen rápidamente, la serie de tiempo es estacionaria,
pero si se muestra un caimiento lento, la serie de tiempo es no
estacionaria y se debe transformar la serie de tiempo con las primeras
diferencias (primer orden). Luego, se calcula la ACF para la serie
transformada y se verifica si los datos de las primeras diferencias son
estacionarios o no, en caso de una caída lenta de la ACF, se considera
los datos como no estacionarios y se transforman los datos para obtener
las segundas diferencias (segundo orden) con el fin de obtener datos
estacionarios con un comportamiento de la ACF con caída rápida.</p>
</div>
<div class="section" id="transformacion-de-las-series-de-tiempo">
<h2>Transformación de las series de tiempo:<a class="headerlink" href="#transformacion-de-las-series-de-tiempo" title="Permalink to this headline"></a></h2>
<p>Las series de tiempo se transforman con el objetivo de obtener una nueva
serie de tiempo <strong>estacionaria.</strong></p>
<p>Una serie de tiempo transformada con las primeras diferencias <strong>(primer
orden)</strong> es:</p>
<div class="math notranslate nohighlight">
\[z_t = y_t - y_{t-1}\]</div>
<p>Una serie de tiempo transformada con las segundas diferencias <strong>(segundo
orden)</strong> son las primeras diferencias de las primeras diferencias:</p>
<div class="math notranslate nohighlight">
\[z_t = (y_t - y_{t-1})-(y_{t-1} - y_{t-2})=y_t-2y_{t-1}-y_{t-2}\]</div>
<p>En <code class="docutils literal notranslate"><span class="pre">R</span></code> se pueden calcular estas diferencias así:</p>
<p><code class="docutils literal notranslate"><span class="pre">z</span> <span class="pre">=</span> <span class="pre">diff(z,</span> <span class="pre">lag</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">differences</span> <span class="pre">=</span> <span class="pre">1)</span></code></p>
<p>Para el segundo orden se utiliza:</p>
<p><code class="docutils literal notranslate"><span class="pre">z</span> <span class="pre">=</span> <span class="pre">diff(z,</span> <span class="pre">lag</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">differences</span> <span class="pre">=</span> <span class="pre">2)</span></code></p>
<p><strong>Ejemplos: diferencias de primer orden</strong></p>
<p><strong>Serie estacional:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">diff</span><span class="p">(</span><span class="n">estacional</span><span class="p">[,</span><span class="m">1</span><span class="p">],</span> <span class="n">lag</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">differences</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">estacional</span><span class="p">[,</span><span class="m">1</span><span class="p">])),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">estacional</span><span class="p">[,</span><span class="m">1</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Serie de tiempo original&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_92_01.png"><img alt="../../_images/output_92_01.png" src="../../_images/output_92_01.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Primeras diferencias&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_93_0.png"><img alt="../../_images/output_93_0.png" src="../../_images/output_93_0.png" style="width: 420px; height: 420px;" /></a>
<p><strong>Serie con tendencia:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">diff</span><span class="p">(</span><span class="n">estacional2</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">differences</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">estacional2</span><span class="p">[,</span><span class="m">2</span><span class="p">])),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">estacional2</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Serie de tiempo original&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_96_0.png"><img alt="../../_images/output_96_0.png" src="../../_images/output_96_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Primeras diferencias&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_97_0.png"><img alt="../../_images/output_97_0.png" src="../../_images/output_97_0.png" style="width: 420px; height: 420px;" /></a>
<p><strong>Serie con sin tendencia y varianza no constante:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">diff</span><span class="p">(</span><span class="n">ejemplo3</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">differences</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">ejemplo3</span><span class="p">[,</span><span class="m">2</span><span class="p">])),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">ejemplo3</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Serie de tiempo original&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_100_0.png"><img alt="../../_images/output_100_0.png" src="../../_images/output_100_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Primeras diferencias&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_101_0.png"><img alt="../../_images/output_101_0.png" src="../../_images/output_101_0.png" style="width: 420px; height: 420px;" /></a>
<p><strong>Ejemplo: diferencias de segundo orden</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">diff</span><span class="p">(</span><span class="n">ejemplo3</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">differences</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">z</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&quot;Segundas diferencias&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_104_01.png"><img alt="../../_images/output_104_01.png" src="../../_images/output_104_01.png" style="width: 420px; height: 420px;" /></a>
</div>
<div class="section" id="ejemplo-con-la-variacion-mensual-del-ipc">
<h2>Ejemplo con la variación mensual del IPC:<a class="headerlink" href="#ejemplo-con-la-variacion-mensual-del-ipc" title="Permalink to this headline"></a></h2>
<p>Utilizar el archivo <code class="docutils literal notranslate"><span class="pre">IPCabril2022.csv</span></code></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;IPCabril2022.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;;&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">print</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">tail</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>     <span class="n">Mes</span>   <span class="n">IPC</span>
<span class="mi">1</span> <span class="n">ene</span><span class="o">-</span><span class="mi">03</span>  <span class="mf">1.17</span>
<span class="mi">2</span> <span class="n">feb</span><span class="o">-</span><span class="mi">03</span>  <span class="mf">1.11</span>
<span class="mi">3</span> <span class="n">mar</span><span class="o">-</span><span class="mi">03</span>  <span class="mf">1.05</span>
<span class="mi">4</span> <span class="n">abr</span><span class="o">-</span><span class="mi">03</span>  <span class="mf">1.15</span>
<span class="mi">5</span> <span class="n">may</span><span class="o">-</span><span class="mi">03</span>  <span class="mf">0.49</span>
<span class="mi">6</span> <span class="n">jun</span><span class="o">-</span><span class="mi">03</span> <span class="o">-</span><span class="mf">0.05</span>
       <span class="n">Mes</span>  <span class="n">IPC</span>
<span class="mi">227</span> <span class="n">nov</span><span class="o">-</span><span class="mi">21</span> <span class="mf">0.50</span>
<span class="mi">228</span> <span class="n">dic</span><span class="o">-</span><span class="mi">21</span> <span class="mf">0.73</span>
<span class="mi">229</span> <span class="n">ene</span><span class="o">-</span><span class="mi">22</span> <span class="mf">1.67</span>
<span class="mi">230</span> <span class="n">feb</span><span class="o">-</span><span class="mi">22</span> <span class="mf">1.63</span>
<span class="mi">231</span> <span class="n">mar</span><span class="o">-</span><span class="mi">22</span> <span class="mf">1.00</span>
<span class="mi">232</span> <span class="n">abr</span><span class="o">-</span><span class="mi">22</span> <span class="mf">1.25</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_109_0.png"><img alt="../../_images/output_109_0.png" src="../../_images/output_109_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">y</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">type</span> <span class="o">=</span> <span class="s">&quot;correlation&quot;</span><span class="p">,</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">50</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_110_01.png"><img alt="../../_images/output_110_01.png" src="../../_images/output_110_01.png" style="width: 420px; height: 420px;" /></a>
<p><strong>Diferencias de primer orden:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">diff</span><span class="p">(</span><span class="n">y</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">differences</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
<span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">z</span>
<span class="mi">1</span> <span class="o">-</span><span class="mf">0.06</span>
<span class="mi">2</span> <span class="o">-</span><span class="mf">0.06</span>
<span class="mi">3</span>  <span class="mf">0.10</span>
<span class="mi">4</span> <span class="o">-</span><span class="mf">0.66</span>
<span class="mi">5</span> <span class="o">-</span><span class="mf">0.54</span>
<span class="mi">6</span> <span class="o">-</span><span class="mf">0.09</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">z</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">[,</span><span class="m">1</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_113_01.png"><img alt="../../_images/output_113_01.png" src="../../_images/output_113_01.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">type</span> <span class="o">=</span> <span class="s">&quot;correlation&quot;</span><span class="p">,</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">50</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_114_0.png"><img alt="../../_images/output_114_0.png" src="../../_images/output_114_0.png" style="width: 420px; height: 420px;" /></a>
<p><strong>Diferencias de segundo orden:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">diff</span><span class="p">(</span><span class="n">y</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">differences</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
<span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">head</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>              <span class="n">z</span>
<span class="mi">1</span> <span class="o">-</span><span class="mf">2.220446e-16</span>
<span class="mi">2</span>  <span class="mf">1.600000e-01</span>
<span class="mi">3</span> <span class="o">-</span><span class="mf">7.600000e-01</span>
<span class="mi">4</span>  <span class="mf">1.200000e-01</span>
<span class="mi">5</span>  <span class="mf">4.500000e-01</span>
<span class="mi">6</span>  <span class="mf">5.400000e-01</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">z</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">[,</span><span class="m">1</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_117_0.png"><img alt="../../_images/output_117_0.png" src="../../_images/output_117_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">type</span> <span class="o">=</span> <span class="s">&quot;correlation&quot;</span><span class="p">,</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">50</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_118_0.png"><img alt="../../_images/output_118_0.png" src="../../_images/output_118_0.png" style="width: 420px; height: 420px;" /></a>
</div>
<div class="section" id="ejemplo-con-el-precio-mensual-del-colcap">
<h2>Ejemplo con el precio mensual del COLCAP:<a class="headerlink" href="#ejemplo-con-el-precio-mensual-del-colcap" title="Permalink to this headline"></a></h2>
<p>Utilizar el archivo <code class="docutils literal notranslate"><span class="pre">COLCAP.csv</span></code></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;COLCAP.csv&quot;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s">&quot;;&quot;</span><span class="p">,</span> <span class="n">dec</span> <span class="o">=</span> <span class="s">&quot;,&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">T</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">y</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">[,</span><span class="m">2</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;COLCAP&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_122_0.png"><img alt="../../_images/output_122_0.png" src="../../_images/output_122_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">y</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">type</span> <span class="o">=</span> <span class="s">&quot;correlation&quot;</span><span class="p">,</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">50</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_123_0.png"><img alt="../../_images/output_123_0.png" src="../../_images/output_123_0.png" style="width: 420px; height: 420px;" /></a>
<p><strong>Diferencias de primer orden:</strong></p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">diff</span><span class="p">(</span><span class="n">y</span><span class="p">[,</span><span class="m">2</span><span class="p">],</span> <span class="n">lag</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">differences</span> <span class="o">=</span> <span class="m">1</span><span class="p">)</span>
<span class="n">z</span> <span class="o">&lt;-</span> <span class="nf">data.frame</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">ggplot</span><span class="p">()</span><span class="o">+</span><span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="nf">nrow</span><span class="p">(</span><span class="n">z</span><span class="p">)),</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">[,</span><span class="m">1</span><span class="p">]),</span> <span class="n">size</span> <span class="o">=</span> <span class="m">0.7</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme_minimal</span><span class="p">()</span> <span class="o">+</span>
        <span class="nf">labs</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">&quot;Tiempo&quot;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s">&quot;y&quot;</span><span class="p">)</span><span class="o">+</span>
        <span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">size</span> <span class="o">=</span> <span class="m">14</span><span class="p">,</span> <span class="n">family</span> <span class="o">=</span> <span class="s">&#39;mono&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
              <span class="n">axis.title.x</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">)),</span>
              <span class="n">axis.title.y</span> <span class="o">=</span> <span class="nf">element_text</span><span class="p">(</span><span class="n">face</span> <span class="o">=</span> <span class="s">&quot;bold&quot;</span><span class="p">,</span> <span class="n">colour</span> <span class="o">=</span> <span class="s">&quot;black&quot;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="nf">rel</span><span class="p">(</span><span class="m">2</span><span class="p">),</span> <span class="n">angle</span> <span class="o">=</span> <span class="m">0</span><span class="p">,</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_126_0.png"><img alt="../../_images/output_126_0.png" src="../../_images/output_126_0.png" style="width: 420px; height: 420px;" /></a>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">acf</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">type</span> <span class="o">=</span> <span class="s">&quot;correlation&quot;</span><span class="p">,</span> <span class="n">lag.max</span> <span class="o">=</span> <span class="m">50</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/output_127_0.png"><img alt="../../_images/output_127_0.png" src="../../_images/output_127_0.png" style="width: 420px; height: 420px;" /></a>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Caracter%C3%ADsticas%20de%20las%20series%20de%20tiempo/Caracter%C3%ADsticas%20de%20las%20series%20de%20tiempo.html" class="btn btn-neutral float-left" title="Características de las series de tiempo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Modelos%20Autorregresivos%20-%20AR/Modelos%20Autorregresivos%20-%20AR.html" class="btn btn-neutral float-right" title="Modelos Autorregresivos - AR" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Natalia Acevedo Prins.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>